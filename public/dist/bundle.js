!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})["__faroBundleId_Faro Demo"]="test"}catch(t){}}(),(()=>{var t={132:t=>{"use strict";function e(t){return"function"==typeof t}var n=console.error.bind(console);function r(t,e,n){var r=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:!0,enumerable:r,writable:!0,value:n})}function o(t){t&&t.logger&&(e(t.logger)?n=t.logger:n("new logger isn't a function, not replacing"))}function i(t,o,i){if(t&&t[o]){if(!i)return n("no wrapper function"),void n((new Error).stack);if(e(t[o])&&e(i)){var a=t[o],s=i(a,o);return r(s,"__original",a),r(s,"__unwrap",(function(){t[o]===s&&r(t,o,a)})),r(s,"__wrapped",!0),r(t,o,s),s}n("original object and wrapper must be functions")}else n("no original function "+o+" to wrap")}function a(t,e){return t&&t[e]?t[e].__unwrap?t[e].__unwrap():void n("no original to unwrap to -- has "+e+" already been unwrapped?"):(n("no function to unwrap."),void n((new Error).stack))}o.wrap=i,o.massWrap=function(t,e,r){if(!t)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(t)||(t=[t]),e&&Array.isArray(e)?t.forEach((function(t){e.forEach((function(e){i(t,e,r)}))})):n("must provide one or more functions to wrap on modules")},o.unwrap=a,o.massUnwrap=function(t,e){if(!t)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(t)||(t=[t]),e&&Array.isArray(e)?t.forEach((function(t){e.forEach((function(e){a(t,e)}))})):n("must provide one or more functions to unwrap on modules")},t.exports=o},232:function(t,e,n){var r;!function(o,i){"use strict";var a="function",s="undefined",u="object",c="string",l="major",f="model",p="name",d="type",h="vendor",v="version",g="architecture",_="console",m="mobile",y="tablet",b="smarttv",E="wearable",T="embedded",S="Amazon",w="Apple",O="ASUS",R="BlackBerry",L="Browser",A="Chrome",P="Firefox",k="Google",C="Huawei",I="LG",N="Microsoft",x="Motorola",D="Opera",M="Samsung",j="Sharp",U="Sony",B="Xiaomi",z="Zebra",F="Facebook",H="Chromium OS",Z="Mac OS",G=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].toUpperCase()]=t[n];return e},V=function(t,e){return typeof t===c&&-1!==X(e).indexOf(X(t))},X=function(t){return t.toLowerCase()},q=function(t,e){if(typeof t===c)return t=t.replace(/^\s\s*/,""),typeof e===s?t:t.substring(0,500)},$=function(t,e){for(var n,r,o,s,c,l,f=0;f<e.length&&!c;){var p=e[f],d=e[f+1];for(n=r=0;n<p.length&&!c&&p[n];)if(c=p[n++].exec(t))for(o=0;o<d.length;o++)l=c[++r],typeof(s=d[o])===u&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):i:this[s[0]]=l?s[1].call(this,l,s[2]):i:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):i):this[s]=l||i;f+=2}},K=function(t,e){for(var n in e)if(typeof e[n]===u&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(V(e[n][r],t))return"?"===n?i:n}else if(V(e[n],t))return"?"===n?i:n;return t},W={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,v],[/opios[\/ ]+([\w\.]+)/i],[v,[p,D+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[p,D+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[p,D]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,v],[/\bddg\/([\w\.]+)/i],[v,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[p,"UC"+L]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[p,"Smart Lenovo "+L]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+L],v],[/\bfocus\/([\w\.]+)/i],[v,[p,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[p,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[p,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[p,"MIUI "+L]],[/fxios\/([-\w\.]+)/i],[v,[p,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+L]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+L],v],[/samsungbrowser\/([\w\.]+)/i],[v,[p,M+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],v],[/metasr[\/ ]?([\d\.]+)/i],[v,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,v],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,F],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[p,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,A+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[p,"Android "+L]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[v,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[p,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,v],[/(cobalt)\/([\w\.]+)/i],[p,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,X]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",X]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,X]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[h,M],[d,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[h,M],[d,m]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[h,w],[d,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[h,w],[d,y]],[/(macintosh);/i],[f,[h,w]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[h,j],[d,m]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[h,C],[d,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[h,C],[d,m]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[h,B],[d,m]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[h,B],[d,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[h,"OPPO"],[d,m]],[/\b(opd2\d{3}a?) bui/i],[f,[h,"OPPO"],[d,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[h,"Vivo"],[d,m]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[h,"Realme"],[d,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[h,x],[d,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[h,x],[d,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[h,I],[d,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[h,I],[d,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[h,"Lenovo"],[d,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[h,"Nokia"],[d,m]],[/(pixel c)\b/i],[f,[h,k],[d,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[h,k],[d,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[h,U],[d,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[h,U],[d,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[h,"OnePlus"],[d,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[h,S],[d,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[h,S],[d,m]],[/(playbook);[-\w\),; ]+(rim)/i],[f,h,[d,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[h,R],[d,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[h,O],[d,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[h,O],[d,m]],[/(nexus 9)/i],[f,[h,"HTC"],[d,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[f,/_/g," "],[d,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[h,"Acer"],[d,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[h,"Meizu"],[d,m]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[h,"Ulefone"],[d,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,f,[d,m]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,f,[d,y]],[/(surface duo)/i],[f,[h,N],[d,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[h,"Fairphone"],[d,m]],[/(u304aa)/i],[f,[h,"AT&T"],[d,m]],[/\bsie-(\w*)/i],[f,[h,"Siemens"],[d,m]],[/\b(rct\w+) b/i],[f,[h,"RCA"],[d,y]],[/\b(venue[\d ]{2,7}) b/i],[f,[h,"Dell"],[d,y]],[/\b(q(?:mv|ta)\w+) b/i],[f,[h,"Verizon"],[d,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[h,"Barnes & Noble"],[d,y]],[/\b(tm\d{3}\w+) b/i],[f,[h,"NuVision"],[d,y]],[/\b(k88) b/i],[f,[h,"ZTE"],[d,y]],[/\b(nx\d{3}j) b/i],[f,[h,"ZTE"],[d,m]],[/\b(gen\d{3}) b.+49h/i],[f,[h,"Swiss"],[d,m]],[/\b(zur\d{3}) b/i],[f,[h,"Swiss"],[d,y]],[/\b((zeki)?tb.*\b) b/i],[f,[h,"Zeki"],[d,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],f,[d,y]],[/\b(ns-?\w{0,9}) b/i],[f,[h,"Insignia"],[d,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[h,"NextBook"],[d,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],f,[d,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],f,[d,m]],[/\b(ph-1) /i],[f,[h,"Essential"],[d,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[h,"Envizen"],[d,y]],[/\b(trio[-\w\. ]+) b/i],[f,[h,"MachSpeed"],[d,y]],[/\btu_(1491) b/i],[f,[h,"Rotor"],[d,y]],[/(shield[\w ]+) b/i],[f,[h,"Nvidia"],[d,y]],[/(sprint) (\w+)/i],[h,f,[d,m]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[h,N],[d,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[h,z],[d,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[h,z],[d,m]],[/smart-tv.+(samsung)/i],[h,[d,b]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[h,M],[d,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,I],[d,b]],[/(apple) ?tv/i],[h,[f,w+" TV"],[d,b]],[/crkey/i],[[f,A+"cast"],[h,k],[d,b]],[/droid.+aft(\w+)( bui|\))/i],[f,[h,S],[d,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[h,j],[d,b]],[/(bravia[\w ]+)( bui|\))/i],[f,[h,U],[d,b]],[/(mitv-\w{5}) bui/i],[f,[h,B],[d,b]],[/Hbbtv.*(technisat) (.*);/i],[h,f,[d,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,q],[f,q],[d,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,f,[d,_]],[/droid.+; (shield) bui/i],[f,[h,"Nvidia"],[d,_]],[/(playstation [345portablevi]+)/i],[f,[h,U],[d,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[h,N],[d,_]],[/((pebble))app/i],[h,f,[d,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[h,w],[d,E]],[/droid.+; (glass) \d/i],[f,[h,k],[d,E]],[/droid.+; (wt63?0{2,3})\)/i],[f,[h,z],[d,E]],[/(quest( \d| pro)?)/i],[f,[h,F],[d,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,T]],[/(aeobc)\b/i],[f,[h,S],[d,T]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[d,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[d,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,m]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,v],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[v,K,W]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,K,W],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,Z],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,v],[/\(bb(10);/i],[v,[p,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[p,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[p,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,H],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,v],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,v]]},J=function(t,e){if(typeof t===u&&(e=t,t=i),!(this instanceof J))return new J(t,e).getResult();var n=typeof o!==s&&o.navigator?o.navigator:i,r=t||(n&&n.userAgent?n.userAgent:""),_=n&&n.userAgentData?n.userAgentData:i,b=e?function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2==0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n}(Y,e):Y,E=n&&n.userAgent==r;return this.getBrowser=function(){var t,e={};return e[p]=i,e[v]=i,$.call(e,r,b.browser),e[l]=typeof(t=e[v])===c?t.replace(/[^\d\.]/g,"").split(".")[0]:i,E&&n&&n.brave&&typeof n.brave.isBrave==a&&(e[p]="Brave"),e},this.getCPU=function(){var t={};return t[g]=i,$.call(t,r,b.cpu),t},this.getDevice=function(){var t={};return t[h]=i,t[f]=i,t[d]=i,$.call(t,r,b.device),E&&!t[d]&&_&&_.mobile&&(t[d]=m),E&&"Macintosh"==t[f]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(t[f]="iPad",t[d]=y),t},this.getEngine=function(){var t={};return t[p]=i,t[v]=i,$.call(t,r,b.engine),t},this.getOS=function(){var t={};return t[p]=i,t[v]=i,$.call(t,r,b.os),E&&!t[p]&&_&&_.platform&&"Unknown"!=_.platform&&(t[p]=_.platform.replace(/chrome os/i,H).replace(/macos/i,Z)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(t){return r=typeof t===c&&t.length>500?q(t,500):t,this},this.setUA(r),this};J.VERSION="1.0.38",J.BROWSER=G([p,v,l]),J.CPU=G([g]),J.DEVICE=G([f,h,d,_,m,b,y,E,T]),J.ENGINE=J.OS=G([p,v]),typeof e!==s?(t.exports&&(e=t.exports=J),e.UAParser=J):n.amdO?(r=function(){return J}.call(e,n,e,t))===i||(t.exports=r):typeof o!==s&&(o.UAParser=J);var Q=typeof o!==s&&(o.jQuery||o.Zepto);if(Q&&!Q.ua){var tt=new J;Q.ua=tt.getResult(),Q.ua.get=function(){return tt.getUA()},Q.ua.set=function(t){tt.setUA(t);var e=tt.getResult();for(var n in e)Q.ua[n]=e[n]}}}("object"==typeof window?window:this)},216:()=>{"use strict";const t=globalThis;function e(e){return(t.__Zone_symbol_prefix||"__zone_symbol__")+e}function n(){const n=t.performance;function r(t){n&&n.mark&&n.mark(t)}function o(t,e){n&&n.measure&&n.measure(t,e)}r("Zone");class i{static{this.__symbol__=e}static assertZonePatched(){if(t.Promise!==A.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=i.current;for(;t.parent;)t=t.parent;return t}static get current(){return k.zone}static get currentTask(){return C}static __load_patch(n,a,s=!1){if(A.hasOwnProperty(n)){const r=!0===t[e("forceDuplicateZoneCheck")];if(!s&&r)throw Error("Already loaded patch: "+n)}else if(!t["__Zone_disable_"+n]){const e="Zone:"+n;r(e),A[n]=a(t,i,P),o(e,e)}}get parent(){return this._parent}get name(){return this._name}constructor(t,e){this._parent=t,this._name=e?e.name||"unnamed":"<root>",this._properties=e&&e.properties||{},this._zoneDelegate=new s(this,this._parent&&this._parent._zoneDelegate,e)}get(t){const e=this.getZoneWith(t);if(e)return e._properties[t]}getZoneWith(t){let e=this;for(;e;){if(e._properties.hasOwnProperty(t))return e;e=e._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,e){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const n=this._zoneDelegate.intercept(this,t,e),r=this;return function(){return r.runGuarded(n,this,arguments,e)}}run(t,e,n,r){k={parent:k,zone:this};try{return this._zoneDelegate.invoke(this,t,e,n,r)}finally{k=k.parent}}runGuarded(t,e=null,n,r){k={parent:k,zone:this};try{try{return this._zoneDelegate.invoke(this,t,e,n,r)}catch(t){if(this._zoneDelegate.handleError(this,t))throw t}}finally{k=k.parent}}runTask(t,e,n){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||m).name+"; Execution: "+this.name+")");if(t.state===y&&(t.type===L||t.type===R))return;const r=t.state!=T;r&&t._transitionTo(T,E),t.runCount++;const o=C;C=t,k={parent:k,zone:this};try{t.type==R&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,e,n)}catch(t){if(this._zoneDelegate.handleError(this,t))throw t}}finally{t.state!==y&&t.state!==w&&(t.type==L||t.data&&t.data.isPeriodic?r&&t._transitionTo(E,T):(t.runCount=0,this._updateTaskCount(t,-1),r&&t._transitionTo(y,T,y))),k=k.parent,C=o}}scheduleTask(t){if(t.zone&&t.zone!==this){let e=this;for(;e;){if(e===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);e=e.parent}}t._transitionTo(b,y);const e=[];t._zoneDelegates=e,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(e){throw t._transitionTo(w,b,y),this._zoneDelegate.handleError(this,e),e}return t._zoneDelegates===e&&this._updateTaskCount(t,1),t.state==b&&t._transitionTo(E,b),t}scheduleMicroTask(t,e,n,r){return this.scheduleTask(new u(O,t,e,n,r,void 0))}scheduleMacroTask(t,e,n,r,o){return this.scheduleTask(new u(R,t,e,n,r,o))}scheduleEventTask(t,e,n,r,o){return this.scheduleTask(new u(L,t,e,n,r,o))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||m).name+"; Execution: "+this.name+")");if(t.state===E||t.state===T){t._transitionTo(S,E,T);try{this._zoneDelegate.cancelTask(this,t)}catch(e){throw t._transitionTo(w,S),this._zoneDelegate.handleError(this,e),e}return this._updateTaskCount(t,-1),t._transitionTo(y,S),t.runCount=0,t}}_updateTaskCount(t,e){const n=t._zoneDelegates;-1==e&&(t._zoneDelegates=null);for(let r=0;r<n.length;r++)n[r]._updateTaskCount(t.type,e)}}const a={name:"",onHasTask:(t,e,n,r)=>t.hasTask(n,r),onScheduleTask:(t,e,n,r)=>t.scheduleTask(n,r),onInvokeTask:(t,e,n,r,o,i)=>t.invokeTask(n,r,o,i),onCancelTask:(t,e,n,r)=>t.cancelTask(n,r)};class s{get zone(){return this._zone}constructor(t,e,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=t,this._parentDelegate=e,this._forkZS=n&&(n&&n.onFork?n:e._forkZS),this._forkDlgt=n&&(n.onFork?e:e._forkDlgt),this._forkCurrZone=n&&(n.onFork?this._zone:e._forkCurrZone),this._interceptZS=n&&(n.onIntercept?n:e._interceptZS),this._interceptDlgt=n&&(n.onIntercept?e:e._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this._zone:e._interceptCurrZone),this._invokeZS=n&&(n.onInvoke?n:e._invokeZS),this._invokeDlgt=n&&(n.onInvoke?e:e._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this._zone:e._invokeCurrZone),this._handleErrorZS=n&&(n.onHandleError?n:e._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?e:e._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this._zone:e._handleErrorCurrZone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:e._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?e:e._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this._zone:e._scheduleTaskCurrZone),this._invokeTaskZS=n&&(n.onInvokeTask?n:e._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?e:e._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this._zone:e._invokeTaskCurrZone),this._cancelTaskZS=n&&(n.onCancelTask?n:e._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?e:e._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this._zone:e._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const r=n&&n.onHasTask,o=e&&e._hasTaskZS;(r||o)&&(this._hasTaskZS=r?n:a,this._hasTaskDlgt=e,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,n.onScheduleTask||(this._scheduleTaskZS=a,this._scheduleTaskDlgt=e,this._scheduleTaskCurrZone=this._zone),n.onInvokeTask||(this._invokeTaskZS=a,this._invokeTaskDlgt=e,this._invokeTaskCurrZone=this._zone),n.onCancelTask||(this._cancelTaskZS=a,this._cancelTaskDlgt=e,this._cancelTaskCurrZone=this._zone))}fork(t,e){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,t,e):new i(t,e)}intercept(t,e,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,t,e,n):e}invoke(t,e,n,r,o){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,t,e,n,r,o):e.apply(n,r)}handleError(t,e){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,t,e)}scheduleTask(t,e){let n=e;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,t,e),n||(n=e);else if(e.scheduleFn)e.scheduleFn(e);else{if(e.type!=O)throw new Error("Task is missing scheduleFn.");g(e)}return n}invokeTask(t,e,n,r){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,t,e,n,r):e.callback.apply(n,r)}cancelTask(t,e){let n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,t,e);else{if(!e.cancelFn)throw Error("Task is not cancelable");n=e.cancelFn(e)}return n}hasTask(t,e){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,e)}catch(e){this.handleError(t,e)}}_updateTaskCount(t,e){const n=this._taskCounts,r=n[t],o=n[t]=r+e;if(o<0)throw new Error("More tasks executed then were scheduled.");if(0==r||0==o){const e={microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:t};this.hasTask(this._zone,e)}}}class u{constructor(e,n,r,o,i,a){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=e,this.source=n,this.data=o,this.scheduleFn=i,this.cancelFn=a,!r)throw new Error("callback is not defined");this.callback=r;const s=this;e===L&&o&&o.useG?this.invoke=u.invokeTask:this.invoke=function(){return u.invokeTask.call(t,s,this,arguments)}}static invokeTask(t,e,n){t||(t=this),I++;try{return t.runCount++,t.zone.runTask(t,e,n)}finally{1==I&&_(),I--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(y,b)}_transitionTo(t,e,n){if(this._state!==e&&this._state!==n)throw new Error(`${this.type} '${this.source}': can not transition to '${t}', expecting state '${e}'${n?" or '"+n+"'":""}, was '${this._state}'.`);this._state=t,t==y&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const c=e("setTimeout"),l=e("Promise"),f=e("then");let p,d=[],h=!1;function v(e){if(p||t[l]&&(p=t[l].resolve(0)),p){let t=p[f];t||(t=p.then),t.call(p,e)}else t[c](e,0)}function g(t){0===I&&0===d.length&&v(_),t&&d.push(t)}function _(){if(!h){for(h=!0;d.length;){const t=d;d=[];for(let e=0;e<t.length;e++){const n=t[e];try{n.zone.runTask(n,null,null)}catch(t){P.onUnhandledError(t)}}}P.microtaskDrainDone(),h=!1}}const m={name:"NO ZONE"},y="notScheduled",b="scheduling",E="scheduled",T="running",S="canceling",w="unknown",O="microTask",R="macroTask",L="eventTask",A={},P={symbol:e,currentZoneFrame:()=>k,onUnhandledError:N,microtaskDrainDone:N,scheduleMicroTask:g,showUncaughtError:()=>!i[e("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:N,patchMethod:()=>N,bindArguments:()=>[],patchThen:()=>N,patchMacroTask:()=>N,patchEventPrototype:()=>N,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>N,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>N,wrapWithCurrentZone:()=>N,filterProperties:()=>[],attachOriginToPatched:()=>N,_redefineProperty:()=>N,patchCallbacks:()=>N,nativeScheduleMicroTask:v};let k={parent:null,zone:new i(null,null)},C=null,I=0;function N(){}return o("Zone","Zone"),i}const r=Object.getOwnPropertyDescriptor,o=Object.defineProperty,i=Object.getPrototypeOf,a=Object.create,s=Array.prototype.slice,u="addEventListener",c="removeEventListener",l=e(u),f=e(c),p="true",d="false",h=e("");function v(t,e){return Zone.current.wrap(t,e)}function g(t,e,n,r,o){return Zone.current.scheduleMacroTask(t,e,n,r,o)}const _=e,m="undefined"!=typeof window,y=m?window:void 0,b=m&&y||globalThis,E="removeAttribute";function T(t,e){for(let n=t.length-1;n>=0;n--)"function"==typeof t[n]&&(t[n]=v(t[n],e+"_"+n));return t}function S(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}const w="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,O=!("nw"in b)&&void 0!==b.process&&"[object process]"===b.process.toString(),R=!O&&!w&&!(!m||!y.HTMLElement),L=void 0!==b.process&&"[object process]"===b.process.toString()&&!w&&!(!m||!y.HTMLElement),A={},P=function(t){if(!(t=t||b.event))return;let e=A[t.type];e||(e=A[t.type]=_("ON_PROPERTY"+t.type));const n=this||t.target||b,r=n[e];let o;if(R&&n===y&&"error"===t.type){const e=t;o=r&&r.call(this,e.message,e.filename,e.lineno,e.colno,e.error),!0===o&&t.preventDefault()}else o=r&&r.apply(this,arguments),null==o||o||t.preventDefault();return o};function k(t,e,n){let i=r(t,e);if(!i&&n){r(n,e)&&(i={enumerable:!0,configurable:!0})}if(!i||!i.configurable)return;const a=_("on"+e+"patched");if(t.hasOwnProperty(a)&&t[a])return;delete i.writable,delete i.value;const s=i.get,u=i.set,c=e.slice(2);let l=A[c];l||(l=A[c]=_("ON_PROPERTY"+c)),i.set=function(e){let n=this;if(n||t!==b||(n=b),!n)return;"function"==typeof n[l]&&n.removeEventListener(c,P),u&&u.call(n,null),n[l]=e,"function"==typeof e&&n.addEventListener(c,P,!1)},i.get=function(){let n=this;if(n||t!==b||(n=b),!n)return null;const r=n[l];if(r)return r;if(s){let t=s.call(this);if(t)return i.set.call(this,t),"function"==typeof n[E]&&n.removeAttribute(e),t}return null},o(t,e,i),t[a]=!0}function C(t,e,n){if(e)for(let r=0;r<e.length;r++)k(t,"on"+e[r],n);else{const e=[];for(const n in t)"on"==n.slice(0,2)&&e.push(n);for(let r=0;r<e.length;r++)k(t,e[r],n)}}const I=_("originalInstance");function N(t){const e=b[t];if(!e)return;b[_(t)]=e,b[t]=function(){const n=T(arguments,t);switch(n.length){case 0:this[I]=new e;break;case 1:this[I]=new e(n[0]);break;case 2:this[I]=new e(n[0],n[1]);break;case 3:this[I]=new e(n[0],n[1],n[2]);break;case 4:this[I]=new e(n[0],n[1],n[2],n[3]);break;default:throw new Error("Arg list too long.")}},M(b[t],e);const n=new e((function(){}));let r;for(r in n)"XMLHttpRequest"===t&&"responseBlob"===r||function(e){"function"==typeof n[e]?b[t].prototype[e]=function(){return this[I][e].apply(this[I],arguments)}:o(b[t].prototype,e,{set:function(n){"function"==typeof n?(this[I][e]=v(n,t+"."+e),M(this[I][e],n)):this[I][e]=n},get:function(){return this[I][e]}})}(r);for(r in e)"prototype"!==r&&e.hasOwnProperty(r)&&(b[t][r]=e[r])}function x(t,e,n){let o=t;for(;o&&!o.hasOwnProperty(e);)o=i(o);!o&&t[e]&&(o=t);const a=_(e);let s=null;if(o&&(!(s=o[a])||!o.hasOwnProperty(a))){s=o[a]=o[e];if(S(o&&r(o,e))){const t=n(s,a,e);o[e]=function(){return t(this,arguments)},M(o[e],s)}}return s}function D(t,e,n){let r=null;function o(t){const e=t.data;return e.args[e.cbIdx]=function(){t.invoke.apply(this,arguments)},r.apply(e.target,e.args),t}r=x(t,e,(t=>function(e,r){const i=n(e,r);return i.cbIdx>=0&&"function"==typeof r[i.cbIdx]?g(i.name,r[i.cbIdx],i,o):t.apply(e,r)}))}function M(t,e){t[_("OriginalDelegate")]=e}let j=!1,U=!1;function B(){try{const t=y.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(t){}return!1}function z(){if(j)return U;j=!0;try{const t=y.navigator.userAgent;-1===t.indexOf("MSIE ")&&-1===t.indexOf("Trident/")&&-1===t.indexOf("Edge/")||(U=!0)}catch(t){}return U}let F=!1;if("undefined"!=typeof window)try{const t=Object.defineProperty({},"passive",{get:function(){F=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){F=!1}const H={useG:!0},Z={},G={},V=new RegExp("^"+h+"(\\w+)(true|false)$"),X=_("propagationStopped");function q(t,e){const n=(e?e(t):t)+d,r=(e?e(t):t)+p,o=h+n,i=h+r;Z[t]={},Z[t][d]=o,Z[t][p]=i}function $(t,e,n,r){const o=r&&r.add||u,a=r&&r.rm||c,s=r&&r.listeners||"eventListeners",l=r&&r.rmAll||"removeAllListeners",f=_(o),v="."+o+":",g="prependListener",m="."+g+":",y=function(t,e,n){if(t.isRemoved)return;const r=t.callback;let o;"object"==typeof r&&r.handleEvent&&(t.callback=t=>r.handleEvent(t),t.originalDelegate=r);try{t.invoke(t,e,[n])}catch(t){o=t}const i=t.options;if(i&&"object"==typeof i&&i.once){const r=t.originalDelegate?t.originalDelegate:t.callback;e[a].call(e,n.type,r,i)}return o};function b(n,r,o){if(!(r=r||t.event))return;const i=n||r.target||t,a=i[Z[r.type][o?p:d]];if(a){const t=[];if(1===a.length){const e=y(a[0],i,r);e&&t.push(e)}else{const e=a.slice();for(let n=0;n<e.length&&(!r||!0!==r[X]);n++){const o=y(e[n],i,r);o&&t.push(o)}}if(1===t.length)throw t[0];for(let n=0;n<t.length;n++){const r=t[n];e.nativeScheduleMicroTask((()=>{throw r}))}}}const E=function(t){return b(this,t,!1)},T=function(t){return b(this,t,!0)};function S(e,n){if(!e)return!1;let r=!0;n&&void 0!==n.useG&&(r=n.useG);const u=n&&n.vh;let c=!0;n&&void 0!==n.chkDup&&(c=n.chkDup);let y=!1;n&&void 0!==n.rt&&(y=n.rt);let b=e;for(;b&&!b.hasOwnProperty(o);)b=i(b);if(!b&&e[o]&&(b=e),!b)return!1;if(b[f])return!1;const S=n&&n.eventNameToString,w={},R=b[f]=b[o],L=b[_(a)]=b[a],A=b[_(s)]=b[s],P=b[_(l)]=b[l];let k;n&&n.prepend&&(k=b[_(n.prepend)]=b[n.prepend]);const C=function(t){return k.call(w.target,w.eventName,t.invoke,w.options)},I=r?function(t){if(!w.isExisting)return R.call(w.target,w.eventName,w.capture?T:E,w.options)}:function(t){return R.call(w.target,w.eventName,t.invoke,w.options)},N=r?function(t){if(!t.isRemoved){const e=Z[t.eventName];let n;e&&(n=e[t.capture?p:d]);const r=n&&t.target[n];if(r)for(let e=0;e<r.length;e++){if(r[e]===t){r.splice(e,1),t.isRemoved=!0,t.removeAbortListener&&(t.removeAbortListener(),t.removeAbortListener=null),0===r.length&&(t.allRemoved=!0,t.target[n]=null);break}}}if(t.allRemoved)return L.call(t.target,t.eventName,t.capture?T:E,t.options)}:function(t){return L.call(t.target,t.eventName,t.invoke,t.options)},x=n&&n.diff?n.diff:function(t,e){const n=typeof e;return"function"===n&&t.callback===e||"object"===n&&t.originalDelegate===e},D=Zone[_("UNPATCHED_EVENTS")],j=t[_("PASSIVE_EVENTS")];const U=function(e,o,i,a,s=!1,l=!1){return function(){const f=this||t;let h=arguments[0];n&&n.transferEventName&&(h=n.transferEventName(h));let v=arguments[1];if(!v)return e.apply(this,arguments);if(O&&"uncaughtException"===h)return e.apply(this,arguments);let g=!1;if("function"!=typeof v){if(!v.handleEvent)return e.apply(this,arguments);g=!0}if(u&&!u(e,v,f,arguments))return;const _=F&&!!j&&-1!==j.indexOf(h),m=function(t){if("object"==typeof t&&null!==t){const e={...t};return t.signal&&(e.signal=t.signal),e}return t}(function(t,e){return!F&&"object"==typeof t&&t?!!t.capture:F&&e?"boolean"==typeof t?{capture:t,passive:!0}:t?"object"==typeof t&&!1!==t.passive?{...t,passive:!0}:t:{passive:!0}:t}(arguments[2],_)),y=m?.signal;if(y?.aborted)return;if(D)for(let t=0;t<D.length;t++)if(h===D[t])return _?e.call(f,h,v,m):e.apply(this,arguments);const b=!!m&&("boolean"==typeof m||m.capture),E=!(!m||"object"!=typeof m)&&m.once,T=Zone.current;let R=Z[h];R||(q(h,S),R=Z[h]);const L=R[b?p:d];let A,P=f[L],k=!1;if(P){if(k=!0,c)for(let t=0;t<P.length;t++)if(x(P[t],v))return}else P=f[L]=[];const C=f.constructor.name,I=G[C];I&&(A=I[h]),A||(A=C+o+(S?S(h):h)),w.options=m,E&&(w.options.once=!1),w.target=f,w.capture=b,w.eventName=h,w.isExisting=k;const N=r?H:void 0;N&&(N.taskData=w),y&&(w.options.signal=void 0);const M=T.scheduleEventTask(A,v,N,i,a);if(y){w.options.signal=y;const t=()=>M.zone.cancelTask(M);e.call(y,"abort",t,{once:!0}),M.removeAbortListener=()=>y.removeEventListener("abort",t)}return w.target=null,N&&(N.taskData=null),E&&(w.options.once=!0),(F||"boolean"!=typeof M.options)&&(M.options=m),M.target=f,M.capture=b,M.eventName=h,g&&(M.originalDelegate=v),l?P.unshift(M):P.push(M),s?f:void 0}};return b[o]=U(R,v,I,N,y),k&&(b[g]=U(k,m,C,N,y,!0)),b[a]=function(){const e=this||t;let r=arguments[0];n&&n.transferEventName&&(r=n.transferEventName(r));const o=arguments[2],i=!!o&&("boolean"==typeof o||o.capture),a=arguments[1];if(!a)return L.apply(this,arguments);if(u&&!u(L,a,e,arguments))return;const s=Z[r];let c;s&&(c=s[i?p:d]);const l=c&&e[c];if(l)for(let t=0;t<l.length;t++){const n=l[t];if(x(n,a)){if(l.splice(t,1),n.isRemoved=!0,0===l.length&&(n.allRemoved=!0,e[c]=null,!i&&"string"==typeof r)){e[h+"ON_PROPERTY"+r]=null}return n.zone.cancelTask(n),y?e:void 0}}return L.apply(this,arguments)},b[s]=function(){const e=this||t;let r=arguments[0];n&&n.transferEventName&&(r=n.transferEventName(r));const o=[],i=K(e,S?S(r):r);for(let t=0;t<i.length;t++){const e=i[t];let n=e.originalDelegate?e.originalDelegate:e.callback;o.push(n)}return o},b[l]=function(){const e=this||t;let r=arguments[0];if(r){n&&n.transferEventName&&(r=n.transferEventName(r));const t=Z[r];if(t){const n=t[d],o=t[p],i=e[n],s=e[o];if(i){const t=i.slice();for(let e=0;e<t.length;e++){const n=t[e];let o=n.originalDelegate?n.originalDelegate:n.callback;this[a].call(this,r,o,n.options)}}if(s){const t=s.slice();for(let e=0;e<t.length;e++){const n=t[e];let o=n.originalDelegate?n.originalDelegate:n.callback;this[a].call(this,r,o,n.options)}}}}else{const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e],r=V.exec(n);let o=r&&r[1];o&&"removeListener"!==o&&this[l].call(this,o)}this[l].call(this,"removeListener")}if(y)return this},M(b[o],R),M(b[a],L),P&&M(b[l],P),A&&M(b[s],A),!0}let w=[];for(let t=0;t<n.length;t++)w[t]=S(n[t],r);return w}function K(t,e){if(!e){const n=[];for(let r in t){const o=V.exec(r);let i=o&&o[1];if(i&&(!e||i===e)){const e=t[r];if(e)for(let t=0;t<e.length;t++)n.push(e[t])}}return n}let n=Z[e];n||(q(e),n=Z[e]);const r=t[n[d]],o=t[n[p]];return r?o?r.concat(o):r.slice():o?o.slice():[]}function W(t,e){const n=t.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",(t=>function(e,n){e[X]=!0,t&&t.apply(e,n)}))}function Y(t,e){e.patchMethod(t,"queueMicrotask",(t=>function(t,e){Zone.current.scheduleMicroTask("queueMicrotask",e[0])}))}const J=_("zoneTask");function Q(t,e,n,r){let o=null,i=null;n+=r;const a={};function s(e){const n=e.data;return n.args[0]=function(){return e.invoke.apply(this,arguments)},n.handleId=o.apply(t,n.args),e}function u(e){return i.call(t,e.data.handleId)}o=x(t,e+=r,(n=>function(o,i){if("function"==typeof i[0]){const t={isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?i[1]||0:void 0,args:i},n=i[0];i[0]=function(){try{return n.apply(this,arguments)}finally{t.isPeriodic||("number"==typeof t.handleId?delete a[t.handleId]:t.handleId&&(t.handleId[J]=null))}};const o=g(e,i[0],t,s,u);if(!o)return o;const c=o.data.handleId;return"number"==typeof c?a[c]=o:c&&(c[J]=o),c&&c.ref&&c.unref&&"function"==typeof c.ref&&"function"==typeof c.unref&&(o.ref=c.ref.bind(c),o.unref=c.unref.bind(c)),"number"==typeof c||c?c:o}return n.apply(t,i)})),i=x(t,n,(e=>function(n,r){const o=r[0];let i;"number"==typeof o?i=a[o]:(i=o&&o[J],i||(i=o)),i&&"string"==typeof i.type?"notScheduled"!==i.state&&(i.cancelFn&&i.data.isPeriodic||0===i.runCount)&&("number"==typeof o?delete a[o]:o&&(o[J]=null),i.zone.cancelTask(i)):e.apply(t,r)}))}function tt(t,e){if(Zone[e.symbol("patchEventTarget")])return;const{eventNames:n,zoneSymbolEventNames:r,TRUE_STR:o,FALSE_STR:i,ZONE_SYMBOL_PREFIX:a}=e.getGlobalObjects();for(let t=0;t<n.length;t++){const e=n[t],s=a+(e+i),u=a+(e+o);r[e]={},r[e][i]=s,r[e][o]=u}const s=t.EventTarget;return s&&s.prototype?(e.patchEventTarget(t,e,[s&&s.prototype]),!0):void 0}function et(t,e,n){if(!n||0===n.length)return e;const r=n.filter((e=>e.target===t));if(!r||0===r.length)return e;const o=r[0].ignoreProperties;return e.filter((t=>-1===o.indexOf(t)))}function nt(t,e,n,r){if(!t)return;C(t,et(t,e,n),r)}function rt(t){return Object.getOwnPropertyNames(t).filter((t=>t.startsWith("on")&&t.length>2)).map((t=>t.substring(2)))}function ot(t,e){if(O&&!L)return;if(Zone[t.symbol("patchEvents")])return;const n=e.__Zone_ignore_on_properties;let r=[];if(R){const t=window;r=r.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const e=B()?[{target:t,ignoreProperties:["error"]}]:[];nt(t,rt(t),n?n.concat(e):n,i(t))}r=r.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let t=0;t<r.length;t++){const o=e[r[t]];o&&o.prototype&&nt(o.prototype,rt(o.prototype),n)}}function it(t){t.__load_patch("ZoneAwarePromise",((t,e,n)=>{const r=Object.getOwnPropertyDescriptor,o=Object.defineProperty;const i=n.symbol,a=[],s=!1!==t[i("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],u=i("Promise"),c=i("then"),l="__creationTrace__";n.onUnhandledError=t=>{if(n.showUncaughtError()){const e=t&&t.rejection;e?console.error("Unhandled Promise rejection:",e instanceof Error?e.message:e,"; Zone:",t.zone.name,"; Task:",t.task&&t.task.source,"; Value:",e,e instanceof Error?e.stack:void 0):console.error(t)}},n.microtaskDrainDone=()=>{for(;a.length;){const t=a.shift();try{t.zone.runGuarded((()=>{if(t.throwOriginal)throw t.rejection;throw t}))}catch(t){p(t)}}};const f=i("unhandledPromiseRejectionHandler");function p(t){n.onUnhandledError(t);try{const n=e[f];"function"==typeof n&&n.call(this,t)}catch(t){}}function d(t){return t&&t.then}function h(t){return t}function v(t){return j.reject(t)}const g=i("state"),_=i("value"),m=i("finally"),y=i("parentPromiseValue"),b=i("parentPromiseState"),E="Promise.then",T=null,S=!0,w=!1,O=0;function R(t,e){return n=>{try{k(t,e,n)}catch(e){k(t,!1,e)}}}const L=function(){let t=!1;return function(e){return function(){t||(t=!0,e.apply(null,arguments))}}},A="Promise resolved with itself",P=i("currentTaskTrace");function k(t,r,i){const u=L();if(t===i)throw new TypeError(A);if(t[g]===T){let c=null;try{"object"!=typeof i&&"function"!=typeof i||(c=i&&i.then)}catch(e){return u((()=>{k(t,!1,e)}))(),t}if(r!==w&&i instanceof j&&i.hasOwnProperty(g)&&i.hasOwnProperty(_)&&i[g]!==T)I(i),k(t,i[g],i[_]);else if(r!==w&&"function"==typeof c)try{c.call(i,u(R(t,r)),u(R(t,!1)))}catch(e){u((()=>{k(t,!1,e)}))()}else{t[g]=r;const u=t[_];if(t[_]=i,t[m]===m&&r===S&&(t[g]=t[b],t[_]=t[y]),r===w&&i instanceof Error){const t=e.currentTask&&e.currentTask.data&&e.currentTask.data[l];t&&o(i,P,{configurable:!0,enumerable:!1,writable:!0,value:t})}for(let e=0;e<u.length;)N(t,u[e++],u[e++],u[e++],u[e++]);if(0==u.length&&r==w){t[g]=O;let r=i;try{throw new Error("Uncaught (in promise): "+function(t){if(t&&t.toString===Object.prototype.toString){return(t.constructor&&t.constructor.name||"")+": "+JSON.stringify(t)}return t?t.toString():Object.prototype.toString.call(t)}(i)+(i&&i.stack?"\n"+i.stack:""))}catch(t){r=t}s&&(r.throwOriginal=!0),r.rejection=i,r.promise=t,r.zone=e.current,r.task=e.currentTask,a.push(r),n.scheduleMicroTask()}}}return t}const C=i("rejectionHandledHandler");function I(t){if(t[g]===O){try{const n=e[C];n&&"function"==typeof n&&n.call(this,{rejection:t[_],promise:t})}catch(t){}t[g]=w;for(let e=0;e<a.length;e++)t===a[e].promise&&a.splice(e,1)}}function N(t,e,n,r,o){I(t);const i=t[g],a=i?"function"==typeof r?r:h:"function"==typeof o?o:v;e.scheduleMicroTask(E,(()=>{try{const r=t[_],o=!!n&&m===n[m];o&&(n[y]=r,n[b]=i);const s=e.run(a,void 0,o&&a!==v&&a!==h?[]:[r]);k(n,!0,s)}catch(t){k(n,!1,t)}}),n)}const D=function(){},M=t.AggregateError;class j{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(t){return t instanceof j?t:k(new this(null),S,t)}static reject(t){return k(new this(null),w,t)}static withResolvers(){const t={};return t.promise=new j(((e,n)=>{t.resolve=e,t.reject=n})),t}static any(t){if(!t||"function"!=typeof t[Symbol.iterator])return Promise.reject(new M([],"All promises were rejected"));const e=[];let n=0;try{for(let r of t)n++,e.push(j.resolve(r))}catch(t){return Promise.reject(new M([],"All promises were rejected"))}if(0===n)return Promise.reject(new M([],"All promises were rejected"));let r=!1;const o=[];return new j(((t,i)=>{for(let a=0;a<e.length;a++)e[a].then((e=>{r||(r=!0,t(e))}),(t=>{o.push(t),n--,0===n&&(r=!0,i(new M(o,"All promises were rejected")))}))}))}static race(t){let e,n,r=new this(((t,r)=>{e=t,n=r}));function o(t){e(t)}function i(t){n(t)}for(let e of t)d(e)||(e=this.resolve(e)),e.then(o,i);return r}static all(t){return j.allWithCallback(t)}static allSettled(t){return(this&&this.prototype instanceof j?this:j).allWithCallback(t,{thenCallback:t=>({status:"fulfilled",value:t}),errorCallback:t=>({status:"rejected",reason:t})})}static allWithCallback(t,e){let n,r,o=new this(((t,e)=>{n=t,r=e})),i=2,a=0;const s=[];for(let o of t){d(o)||(o=this.resolve(o));const t=a;try{o.then((r=>{s[t]=e?e.thenCallback(r):r,i--,0===i&&n(s)}),(o=>{e?(s[t]=e.errorCallback(o),i--,0===i&&n(s)):r(o)}))}catch(t){r(t)}i++,a++}return i-=2,0===i&&n(s),o}constructor(t){const e=this;if(!(e instanceof j))throw new Error("Must be an instanceof Promise.");e[g]=T,e[_]=[];try{const n=L();t&&t(n(R(e,S)),n(R(e,w)))}catch(t){k(e,!1,t)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return j}then(t,n){let r=this.constructor?.[Symbol.species];r&&"function"==typeof r||(r=this.constructor||j);const o=new r(D),i=e.current;return this[g]==T?this[_].push(i,o,t,n):N(this,i,o,t,n),o}catch(t){return this.then(null,t)}finally(t){let n=this.constructor?.[Symbol.species];n&&"function"==typeof n||(n=j);const r=new n(D);r[m]=m;const o=e.current;return this[g]==T?this[_].push(o,r,t,t):N(this,o,r,t,t),r}}j.resolve=j.resolve,j.reject=j.reject,j.race=j.race,j.all=j.all;const U=t[u]=t.Promise;t.Promise=j;const B=i("thenPatched");function z(t){const e=t.prototype,n=r(e,"then");if(n&&(!1===n.writable||!n.configurable))return;const o=e.then;e[c]=o,t.prototype.then=function(t,e){return new j(((t,e)=>{o.call(this,t,e)})).then(t,e)},t[B]=!0}return n.patchThen=z,U&&(z(U),x(t,"fetch",(t=>{return e=t,function(t,n){let r=e.apply(t,n);if(r instanceof j)return r;let o=r.constructor;return o[B]||z(o),r};var e}))),Promise[e.__symbol__("uncaughtPromiseErrors")]=a,j}))}function at(t,e,n,r,o){const i=Zone.__symbol__(r);if(e[i])return;const a=e[i]=e[r];e[r]=function(i,s,u){return s&&s.prototype&&o.forEach((function(e){const o=`${n}.${r}::`+e,i=s.prototype;try{if(i.hasOwnProperty(e)){const n=t.ObjectGetOwnPropertyDescriptor(i,e);n&&n.value?(n.value=t.wrapWithCurrentZone(n.value,o),t._redefineProperty(s.prototype,e,n)):i[e]&&(i[e]=t.wrapWithCurrentZone(i[e],o))}else i[e]&&(i[e]=t.wrapWithCurrentZone(i[e],o))}catch{}})),a.call(e,i,s,u)},t.attachOriginToPatched(e[r],a)}const st=function(){const t=globalThis,r=!0===t[e("forceDuplicateZoneCheck")];if(t.Zone&&(r||"function"!=typeof t.Zone.__symbol__))throw new Error("Zone already loaded.");return t.Zone??=n(),t.Zone}();!function(t){it(t),function(t){t.__load_patch("toString",(t=>{const e=Function.prototype.toString,n=_("OriginalDelegate"),r=_("Promise"),o=_("Error"),i=function(){if("function"==typeof this){const i=this[n];if(i)return"function"==typeof i?e.call(i):Object.prototype.toString.call(i);if(this===Promise){const n=t[r];if(n)return e.call(n)}if(this===Error){const n=t[o];if(n)return e.call(n)}}return e.call(this)};i[n]=e,Function.prototype.toString=i;const a=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":a.call(this)}}))}(t),function(t){t.__load_patch("util",((t,e,n)=>{const i=rt(t);n.patchOnProperties=C,n.patchMethod=x,n.bindArguments=T,n.patchMacroTask=D;const l=e.__symbol__("BLACK_LISTED_EVENTS"),f=e.__symbol__("UNPATCHED_EVENTS");t[f]&&(t[l]=t[f]),t[l]&&(e[l]=e[f]=t[l]),n.patchEventPrototype=W,n.patchEventTarget=$,n.isIEOrEdge=z,n.ObjectDefineProperty=o,n.ObjectGetOwnPropertyDescriptor=r,n.ObjectCreate=a,n.ArraySlice=s,n.patchClass=N,n.wrapWithCurrentZone=v,n.filterProperties=et,n.attachOriginToPatched=M,n._redefineProperty=Object.defineProperty,n.patchCallbacks=at,n.getGlobalObjects=()=>({globalSources:G,zoneSymbolEventNames:Z,eventNames:i,isBrowser:R,isMix:L,isNode:O,TRUE_STR:p,FALSE_STR:d,ZONE_SYMBOL_PREFIX:h,ADD_EVENT_LISTENER_STR:u,REMOVE_EVENT_LISTENER_STR:c})}))}(t)}(st),function(t){t.__load_patch("legacy",(e=>{const n=e[t.__symbol__("legacyPatch")];n&&n()})),t.__load_patch("timers",(t=>{const e="set",n="clear";Q(t,e,n,"Timeout"),Q(t,e,n,"Interval"),Q(t,e,n,"Immediate")})),t.__load_patch("requestAnimationFrame",(t=>{Q(t,"request","cancel","AnimationFrame"),Q(t,"mozRequest","mozCancel","AnimationFrame"),Q(t,"webkitRequest","webkitCancel","AnimationFrame")})),t.__load_patch("blocking",((t,e)=>{const n=["alert","prompt","confirm"];for(let r=0;r<n.length;r++){x(t,n[r],((n,r,o)=>function(r,i){return e.current.run(n,t,i,o)}))}})),t.__load_patch("EventTarget",((t,e,n)=>{!function(t,e){e.patchEventPrototype(t,e)}(t,n),tt(t,n);const r=t.XMLHttpRequestEventTarget;r&&r.prototype&&n.patchEventTarget(t,n,[r.prototype])})),t.__load_patch("MutationObserver",((t,e,n)=>{N("MutationObserver"),N("WebKitMutationObserver")})),t.__load_patch("IntersectionObserver",((t,e,n)=>{N("IntersectionObserver")})),t.__load_patch("FileReader",((t,e,n)=>{N("FileReader")})),t.__load_patch("on_property",((t,e,n)=>{ot(n,t)})),t.__load_patch("customElements",((t,e,n)=>{!function(t,e){const{isBrowser:n,isMix:r}=e.getGlobalObjects();if(!n&&!r||!t.customElements||!("customElements"in t))return;e.patchCallbacks(e,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(t,n)})),t.__load_patch("XHR",((t,e)=>{!function(t){const u=t.XMLHttpRequest;if(!u)return;const c=u.prototype;let p=c[l],d=c[f];if(!p){const e=t.XMLHttpRequestEventTarget;if(e){const t=e.prototype;p=t[l],d=t[f]}}const h="readystatechange",v="scheduled";function m(t){const r=t.data,a=r.target;a[i]=!1,a[s]=!1;const u=a[o];p||(p=a[l],d=a[f]),u&&d.call(a,h,u);const c=a[o]=()=>{if(a.readyState===a.DONE)if(!r.aborted&&a[i]&&t.state===v){const n=a[e.__symbol__("loadfalse")];if(0!==a.status&&n&&n.length>0){const o=t.invoke;t.invoke=function(){const n=a[e.__symbol__("loadfalse")];for(let e=0;e<n.length;e++)n[e]===t&&n.splice(e,1);r.aborted||t.state!==v||o.call(t)},n.push(t)}else t.invoke()}else r.aborted||!1!==a[i]||(a[s]=!0)};p.call(a,h,c);return a[n]||(a[n]=t),w.apply(a,r.args),a[i]=!0,t}function y(){}function b(t){const e=t.data;return e.aborted=!0,O.apply(e.target,e.args)}const E=x(c,"open",(()=>function(t,e){return t[r]=0==e[2],t[a]=e[1],E.apply(t,e)})),T=_("fetchTaskAborting"),S=_("fetchTaskScheduling"),w=x(c,"send",(()=>function(t,n){if(!0===e.current[S])return w.apply(t,n);if(t[r])return w.apply(t,n);{const e={target:t,url:t[a],isPeriodic:!1,args:n,aborted:!1},r=g("XMLHttpRequest.send",y,e,m,b);t&&!0===t[s]&&!e.aborted&&r.state===v&&r.invoke()}})),O=x(c,"abort",(()=>function(t,r){const o=t[n];if(o&&"string"==typeof o.type){if(null==o.cancelFn||o.data&&o.data.aborted)return;o.zone.cancelTask(o)}else if(!0===e.current[T])return O.apply(t,r)}))}(t);const n=_("xhrTask"),r=_("xhrSync"),o=_("xhrListener"),i=_("xhrScheduled"),a=_("xhrURL"),s=_("xhrErrorBeforeScheduled")})),t.__load_patch("geolocation",(t=>{t.navigator&&t.navigator.geolocation&&function(t,e){const n=t.constructor.name;for(let o=0;o<e.length;o++){const i=e[o],a=t[i];if(a){if(!S(r(t,i)))continue;t[i]=(t=>{const e=function(){return t.apply(this,T(arguments,n+"."+i))};return M(e,t),e})(a)}}}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])})),t.__load_patch("PromiseRejectionEvent",((t,e)=>{function n(e){return function(n){K(t,e).forEach((r=>{const o=t.PromiseRejectionEvent;if(o){const t=new o(e,{promise:n.promise,reason:n.rejection});r.invoke(t)}}))}}t.PromiseRejectionEvent&&(e[_("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),e[_("rejectionHandledHandler")]=n("rejectionhandled"))})),t.__load_patch("queueMicrotask",((t,e,n)=>{Y(t,n)}))}(st)}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.amdO={},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";var t;!function(t){t.EXCEPTION="exception",t.LOG="log",t.MEASUREMENT="measurement",t.TRACE="trace",t.EVENT="event"}(t||(t={}));const e={[t.EXCEPTION]:"exceptions",[t.LOG]:"logs",[t.MEASUREMENT]:"measurements",[t.TRACE]:"traces",[t.EVENT]:"events"};function r(){return(new Date).toISOString()}function o(t,e){return typeof t===e}function i(t,e){return Object.prototype.toString.call(t)===`[object ${e}]`}function s(t,e){try{return t instanceof e}catch(t){return!1}}const u=t=>o(t,"null"),c=t=>o(t,"string"),l=t=>o(t,"number")&&!isNaN(t)||o(t,"bigint"),f=t=>!u(t)&&o(t,"object"),p=t=>o(t,"function"),d=t=>i(t,"Array"),h="undefined"!=typeof Event,v=t=>h&&s(t,Event),g="undefined"!=typeof Error,_=t=>g&&s(t,Error),m=t=>i(t,"ErrorEvent"),y=t=>i(t,"DOMError"),E=t=>i(t,"DOMException");function T(t,e){if(t===e)return!0;if(o(t,"number")&&isNaN(t))return o(e,"number")&&isNaN(e);const n=d(t),r=d(e);if(n!==r)return!1;if(n&&r){const n=t.length;if(n!==e.length)return!1;for(let r=n;0!=r--;)if(!T(t[r],e[r]))return!1;return!0}const i=f(t),a=f(e);if(i!==a)return!1;if(t&&e&&i&&a){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let t of n)if(!r.includes(t))return!1;for(let r of n)if(!T(t[r],e[r]))return!1;return!0}return!1}const S="Error";let w;var O;!function(t){t.TRACE="trace",t.DEBUG="debug",t.INFO="info",t.LOG="log",t.WARN="warn",t.ERROR="error"}(O||(O={}));const R=O.LOG,L=[O.TRACE,O.DEBUG,O.INFO,O.LOG,O.WARN,O.ERROR];function A(e,n,o,i,a){n.debug("Initializing API");const s=function(e,n,r,o,i){let a;return n.debug("Initializing traces API"),{getOTEL:()=>a,getTraceContext:()=>{const t=null==a?void 0:a.trace.getSpanContext(a.context.active());return t?{trace_id:t.traceId,span_id:t.spanId}:void 0},initOTEL:(t,e)=>{n.debug("Initializing OpenTelemetry"),a={trace:t,context:e}},isOTELInitialized:()=>!!a,pushTraces:e=>{try{const r={type:t.TRACE,payload:e,meta:o.value};n.debug("Pushing trace\n",r),i.execute(r)}catch(t){n.error("Error pushing trace\n",t)}}}}(0,n,0,i,a);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s),function(e,n,o,i,a,s){var c;n.debug("Initializing exceptions API");let l=null;w=null!==(c=o.parseStacktrace)&&void 0!==c?c:w;const f=t=>{n.debug("Changing stacktrace parser"),w=null!=t?t:w};return f(o.parseStacktrace),{changeStacktraceParser:f,getStacktraceParser:()=>w,pushError:(e,{skipDedupe:c,stackFrames:f,type:p,context:d,spanContext:h}={})=>{p=p||e.name||S;const v={meta:i.value,payload:{type:p,value:e.message,timestamp:r(),trace:h?{trace_id:h.traceId,span_id:h.spanId}:s.getTraceContext(),context:null!=d?d:{}},type:t.EXCEPTION};(null==(f=null!=f?f:e.stack?null==w?void 0:w(e).frames:void 0)?void 0:f.length)&&(v.payload.stacktrace={frames:f});const g={type:v.payload.type,value:v.payload.value,stackTrace:v.payload.stacktrace,context:v.payload.context};c||!o.dedupe||u(l)||!T(g,l)?(l=g,n.debug("Pushing exception\n",v),a.execute(v)):n.debug("Skipping error push because it is the same as the last one\n",v.payload)}}}(0,n,o,i,a,s)),function(t,e,n,r,o){let i,a,s;e.debug("Initializing meta API");const u=t=>{a&&r.remove(a),a={user:t},r.add(a)},c=t=>{i&&r.remove(i),i={session:t},r.add(i)};return{setUser:u,resetUser:u,setSession:c,resetSession:c,getSession:()=>r.value.session,setView:t=>{var e;if((null===(e=null==s?void 0:s.view)||void 0===e?void 0:e.name)===(null==t?void 0:t.name))return;const n=s;s={view:t},r.add(s),n&&r.remove(n)},getView:()=>r.value.view}}(0,n,0,i)),function(e,n,o,i,a,s){var c;n.debug("Initializing logs API");let l=null;const f=null!==(c=o.logArgsSerializer)&&void 0!==c?c:t=>t.map((t=>{try{return String(t)}catch(t){return""}})).join(" ");return{pushLog:(e,{context:c,level:p,skipDedupe:d,spanContext:h}={})=>{try{const v={type:t.LOG,payload:{message:f(e),level:null!=p?p:R,context:null!=c?c:{},timestamp:r(),trace:h?{trace_id:h.traceId,span_id:h.spanId}:s.getTraceContext()},meta:i.value},g={message:v.payload.message,level:v.payload.level,context:v.payload.context};if(!d&&o.dedupe&&!u(l)&&T(g,l))return void n.debug("Skipping log push because it is the same as the last one\n",v.payload);l=g,n.debug("Pushing log\n",v),a.execute(v)}catch(t){n.error("Error pushing log\n",t)}}}}(0,n,o,i,a,s)),function(e,n,o,i,a,s){n.debug("Initializing measurements API");let c=null;return{pushMeasurement:(e,{skipDedupe:l,context:f,spanContext:p}={})=>{var d;try{const h={type:t.MEASUREMENT,payload:Object.assign(Object.assign({},e),{trace:p?{trace_id:p.traceId,span_id:p.spanId}:s.getTraceContext(),timestamp:null!==(d=e.timestamp)&&void 0!==d?d:r(),context:null!=f?f:{}}),meta:i.value},v={type:h.payload.type,values:h.payload.values,context:h.payload.context};if(!l&&o.dedupe&&!u(c)&&T(v,c))return void n.debug("Skipping measurement push because it is the same as the last one\n",h.payload);c=v,n.debug("Pushing measurement\n",h),a.execute(h)}catch(t){n.error("Error pushing measurement\n",t)}}}}(0,n,o,i,a,s)),function(e,n,o,i,a,s){let c=null;return{pushEvent:(e,l,f,{skipDedupe:p,spanContext:d}={})=>{try{const h={meta:i.value,payload:{name:e,domain:null!=f?f:o.eventDomain,attributes:l,timestamp:r(),trace:d?{trace_id:d.traceId,span_id:d.spanId}:s.getTraceContext()},type:t.EVENT},v={name:h.payload.name,attributes:h.payload.attributes,domain:h.payload.domain};if(!p&&o.dedupe&&!u(c)&&T(v,c))return void n.debug("Skipping event push because it is the same as the last one\n",h.payload);c=v,n.debug("Pushing event\n",h),a.execute(h)}catch(t){n.error("Error pushing event",t)}}}}(0,n,o,i,a,s))}function P(){}var k;!function(t){t[t.OFF=0]="OFF",t[t.ERROR=1]="ERROR",t[t.WARN=2]="WARN",t[t.INFO=3]="INFO",t[t.VERBOSE=4]="VERBOSE"}(k||(k={}));const C={debug:P,error:P,info:P,prefix:"Faro",warn:P},I=k.ERROR,N=Object.assign({},console);function x(t=N,e=I){const n=C;return e>k.OFF&&(n.error=e>=k.ERROR?function(...e){t.error(`${n.prefix}\n`,...e)}:P,n.warn=e>=k.WARN?function(...e){t.warn(`${n.prefix}\n`,...e)}:P,n.info=e>=k.INFO?function(...e){t.info(`${n.prefix}\n`,...e)}:P,n.debug=e>=k.VERBOSE?function(...e){t.debug(`${n.prefix}\n`,...e)}:P),n}let D=C;function M(t,e){return D=x(t,e.internalLoggerLevel),D}const j="undefined"!=typeof globalThis?globalThis:void 0!==n.g?n.g:"undefined"!=typeof self?self:void 0;const U="1.7.3";const B="_faroInternal";let z={};function F(t,e,n,r,o,i,a){return e.debug("Initializing Faro"),z={api:i,config:n,instrumentations:a,internalLogger:e,metas:r,pause:o.pause,transports:o,unpatchedConsole:t,unpause:o.unpause},function(t){t.config.isolate?t.internalLogger.debug("Skipping registering internal Faro instance on global object"):(t.internalLogger.debug("Registering internal Faro instance on global object"),Object.defineProperty(j,B,{configurable:!1,enumerable:!1,writable:!1,value:t}))}(z),function(t){if(t.config.preventGlobalExposure)t.internalLogger.debug("Skipping registering public Faro instance in the global scope");else{if(t.internalLogger.debug(`Registering public faro reference in the global scope using "${t.config.globalObjectKey}" key`),t.config.globalObjectKey in j)return void t.internalLogger.warn(`Skipping global registration due to key "${t.config.globalObjectKey}" being used already. Please set "globalObjectKey" to something else or set "preventGlobalExposure" to "true"`);Object.defineProperty(j,t.config.globalObjectKey,{configurable:!1,writable:!1,value:t})}}(z),z}class H{constructor(t,e){var n,r;this.signalBuffer=[],this.itemLimit=null!==(n=null==e?void 0:e.itemLimit)&&void 0!==n?n:50,this.sendTimeout=null!==(r=null==e?void 0:e.sendTimeout)&&void 0!==r?r:250,this.paused=(null==e?void 0:e.paused)||!1,this.sendFn=t,this.flushInterval=-1,this.paused||this.start(),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&this.flush()}))}addItem(t){this.paused||(this.signalBuffer.push(t),this.signalBuffer.length>=this.itemLimit&&this.flush())}start(){this.paused=!1,this.sendTimeout>0&&(this.flushInterval=window.setInterval((()=>this.flush()),this.sendTimeout))}pause(){this.paused=!0,clearInterval(this.flushInterval)}groupItems(t){const e=new Map;return t.forEach((t=>{const n=JSON.stringify(t.meta);let r=e.get(n);r=void 0===r?[t]:[...r,t],e.set(n,r)})),Array.from(e.values())}flush(){if(this.paused||0===this.signalBuffer.length)return;this.groupItems(this.signalBuffer).forEach(this.sendFn),this.signalBuffer=[]}}function Z(e){return n=>{if(n.type===t.EXCEPTION&&n.payload){const t=n.payload,r=`${t.type}: ${t.value}`;if(function(t,e){return t.some((t=>c(t)?e.includes(t):!!e.match(t)))}(e,r))return null}return n}}function G(t,e,n,r){var o;e.debug("Initializing transports");const i=[];let a=n.paused,s=[];const u=t=>{let e=t;for(const t of s){const n=e.map(t).filter(Boolean);if(0===n.length)return[];e=n}return e},c=t=>{const n=u(t);if(0!==n.length)for(const t of i)e.debug(`Transporting item using ${t.name}\n`,n),t.isBatched()&&t.send(n)};let l;(null===(o=n.batching)||void 0===o?void 0:o.enabled)&&(l=new H(c,{sendTimeout:n.batching.sendTimeout,itemLimit:n.batching.itemLimit,paused:a}));return{add:(...o)=>{e.debug("Adding transports"),o.forEach((o=>{e.debug(`Adding "${o.name}" transport`);i.some((t=>t===o))?e.warn(`Transport ${o.name} is already added`):(o.unpatchedConsole=t,o.internalLogger=e,o.config=n,o.metas=r,i.push(o))}))},addBeforeSendHooks:(...t)=>{e.debug("Adding beforeSendHooks\n",s),t.forEach((t=>{t&&s.push(t)}))},addIgnoreErrorsPatterns:(...t)=>{e.debug("Adding ignoreErrorsPatterns\n",t),t.forEach((t=>{t&&s.push(Z(t))}))},getBeforeSendHooks:()=>[...s],execute:t=>{var r;a||((null===(r=n.batching)||void 0===r?void 0:r.enabled)&&(null==l||l.addItem(t)),(t=>{var r,o;if((null===(r=n.batching)||void 0===r?void 0:r.enabled)&&i.every((t=>t.isBatched())))return;const[a]=u([t]);if(void 0!==a)for(const t of i)e.debug(`Transporting item using ${t.name}\n`,a),t.isBatched()?(null===(o=n.batching)||void 0===o?void 0:o.enabled)||t.send([a]):t.send(a)})(t))},isPaused:()=>a,pause:()=>{e.debug("Pausing transports"),null==l||l.pause(),a=!0},remove:(...t)=>{e.debug("Removing transports"),t.forEach((t=>{e.debug(`Removing "${t.name}" transport`);const n=i.indexOf(t);-1!==n?i.splice(n,1):e.warn(`Transport "${t.name}" is not added`)}))},removeBeforeSendHooks:(...t)=>{s.filter((e=>!t.includes(e)))},get transports(){return[...i]},unpause:()=>{e.debug("Unpausing transports"),null==l||l.start(),a=!1}}}let V=N;function X(t){var e;return V=null!==(e=t.unpatchedConsole)&&void 0!==e?e:V,V}function q(t){const e=X(t),n=M(e,t);if(B in j&&!t.isolate)return void n.error('Faro is already registered. Either add instrumentations, transports etc. to the global faro instance or use the "isolate" property');n.debug("Initializing");const r=function(t,e,n){let r=[],o=[];const i=()=>r.reduce(((t,e)=>Object.assign(t,p(e)?e():e)),{}),a=()=>{if(o.length){const t=i();o.forEach((e=>e(t)))}};return{add:(...t)=>{e.debug("Adding metas\n",t),r.push(...t),a()},remove:(...t)=>{e.debug("Removing metas\n",t),r=r.filter((e=>!t.includes(e))),a()},addListener:t=>{e.debug("Adding metas listener\n",t),o.push(t)},removeListener:t=>{e.debug("Removing metas listener\n",t),o=o.filter((e=>e!==t))},get value(){return i()}}}(0,n),o=G(e,n,t,r),i=A(0,n,t,r,o),a=function(t,e,n,r,o,i){e.debug("Initializing instrumentations");const a=[];return{add:(...s)=>{e.debug("Adding instrumentations"),s.forEach((s=>{e.debug(`Adding "${s.name}" instrumentation`),a.some((t=>t.name===s.name))?e.warn(`Instrumentation ${s.name} is already added`):(s.unpatchedConsole=t,s.internalLogger=e,s.config=n,s.metas=r,s.transports=o,s.api=i,a.push(s),s.initialize())}))},get instrumentations(){return[...a]},remove:(...t)=>{e.debug("Removing instrumentations"),t.forEach((t=>{var n,r;e.debug(`Removing "${t.name}" instrumentation`);const o=a.reduce(((e,n,r)=>null===e&&n.name===t.name?r:null),null);o?(null===(r=(n=a[o]).destroy)||void 0===r||r.call(n),a.splice(o,1)):e.warn(`Instrumentation "${t.name}" is not added`)}))}}}(e,n,t,r,o,i),s=F(e,n,t,r,o,i,a);return function(t){var e,n;const r={sdk:{version:U},app:{bundleId:t.config.app.name&&(o=t.config.app.name,null==j?void 0:j[`__faroBundleId_${o}`])}};var o;const i=null===(e=t.config.sessionTracking)||void 0===e?void 0:e.session;i&&t.api.setSession(i),t.config.app&&(r.app=Object.assign(Object.assign({},t.config.app),r.app)),t.config.user&&(r.user=t.config.user),t.config.view&&(r.view=t.config.view),t.metas.add(r,...null!==(n=t.config.metas)&&void 0!==n?n:[])}(s),function(t){t.transports.add(...t.config.transports),t.transports.addBeforeSendHooks(t.config.beforeSend),t.transports.addIgnoreErrorsPatterns(t.config.ignoreErrors)}(s),function(t){t.instrumentations.add(...t.config.instrumentations)}(s),s}const $="faro",K={enabled:!0,sendTimeout:250,itemLimit:50},W="browser",Y="\n",J="eval",Q="?",tt="@",et=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,nt=/\((\S*)(?::(\d+))(?::(\d+))\)/,rt="eval",ot="address at ",it=ot.length,at=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,st=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ut=" > eval",ct="safari-extension",lt="safari-web-extension",ft=/Minified React error #\d+;/i;function pt(t,e,n,r){const o={filename:t||document.location.href,function:e||Q};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}function dt(t,e){const n=null==t?void 0:t.includes(ct),r=!n&&(null==t?void 0:t.includes(lt));return n||r?[(null==t?void 0:t.includes(tt))?t.split(tt)[0]:t,n?`${ct}:${e}`:`${lt}:${e}`]:[t,e]}function ht(t){let e=[];t.stacktrace?e=t.stacktrace.split(Y).filter(((t,e)=>e%2==0)):t.stack&&(e=t.stack.split(Y));const n=e.reduce(((e,n,r)=>{let o,i,a,s,u;if(o=et.exec(n)){if(i=o[1],a=o[2],s=o[3],u=o[4],null==a?void 0:a.startsWith(rt)){const t=nt.exec(a);t&&(a=t[1],s=t[2],u=t[3])}a=(null==a?void 0:a.startsWith(ot))?a.substring(it):a,[i,a]=dt(i,a)}else if(o=at.exec(n)){if(i=o[1],a=o[3],s=o[4],u=o[5],a&&a.includes(ut)){const t=st.exec(a);t&&(i=i||J,a=t[1],s=t[2])}else 0===r&&!u&&l(t.columnNumber)&&(u=String(t.columnNumber+1));[i,a]=dt(i,a)}return(a||i)&&e.push(pt(a,i,s?Number(s):void 0,u?Number(u):void 0)),e}),[]);return ft.test(t.message)?n.slice(1):n}function vt(t){return{frames:ht(t)}}const gt="com.grafana.faro.session",_t=144e5,mt=9e5,yt={enabled:!0,persistent:!1,maxSessionPersistenceTime:mt+6e4};var bt=n(232);const Et=[()=>{const t=new bt.UAParser,{name:e,version:n}=t.getBrowser(),{name:r,version:o}=t.getOS(),i=t.getUA(),a=navigator.language,s=navigator.userAgent.includes("Mobi"),u=function(){if(!e||!n)return;if("userAgentData"in navigator&&navigator.userAgentData)return navigator.userAgentData.brands;return}(),c="unknown";return{browser:{name:null!=e?e:c,version:null!=n?n:c,os:`${null!=r?r:c} ${null!=o?o:c}`,userAgent:null!=i?i:c,language:null!=a?a:c,mobile:s,brands:null!=u?u:c,viewportWidth:`${window.innerWidth}`,viewportHeight:`${window.innerHeight}`}}},()=>({page:{url:location.href}})],Tt={name:"default"},St=()=>{const t=window.k6;return{k6:Object.assign({isK6Browser:!0},(null==t?void 0:t.testRunId)&&{testRunId:null==t?void 0:t.testRunId})}};class wt{constructor(){this.unpatchedConsole=N,this.internalLogger=C,this.config={},this.metas={}}logDebug(...t){this.internalLogger.debug(`${this.name}\n`,...t)}logInfo(...t){this.internalLogger.info(`${this.name}\n`,...t)}logWarn(...t){this.internalLogger.warn(`${this.name}\n`,...t)}logError(...t){this.internalLogger.error(`${this.name}\n`,...t)}}class Ot extends wt{isBatched(){return!1}getIgnoreUrls(){return[]}}function Rt(t,e){var n,r;if(void 0===e)return t;if(void 0===t)return{resourceSpans:e};const o=null===(n=t.resourceSpans)||void 0===n?void 0:n[0];if(void 0===o)return t;const i=(null==o?void 0:o.scopeSpans)||[],a=(null===(r=null==e?void 0:e[0])||void 0===r?void 0:r.scopeSpans)||[];return Object.assign(Object.assign({},t),{resourceSpans:[Object.assign(Object.assign({},o),{scopeSpans:[...i,...a]})]})}var Lt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},At=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};class Pt extends Ot{constructor(t){var e,n,r,o;super(),this.options=t,this.name="@grafana/faro-web-sdk:transport-fetch",this.version=U,this.disabledUntil=new Date,this.rateLimitBackoffMs=null!==(e=t.defaultRateLimitBackoffMs)&&void 0!==e?e:5e3,this.getNow=null!==(n=t.getNow)&&void 0!==n?n:()=>Date.now(),this.promiseBuffer=function(t){const{size:e,concurrency:n}=t,r=[];let o=0;const i=()=>{if(o<n&&r.length){const{producer:t,resolve:e,reject:n}=r.shift();o++,t().then((t=>{o--,i(),e(t)}),(t=>{o--,i(),n(t)}))}};return{add:t=>{if(r.length+o>=e)throw new Error("Task buffer full");return new Promise(((e,n)=>{r.push({producer:t,resolve:e,reject:n}),i()}))}}}({size:null!==(r=t.bufferSize)&&void 0!==r?r:30,concurrency:null!==(o=t.concurrency)&&void 0!==o?o:5})}send(n){return Lt(this,void 0,void 0,(function*(){try{if(this.disabledUntil>new Date(this.getNow()))return this.logWarn(`Dropping transport item due to too many requests. Backoff until ${this.disabledUntil}`),Promise.resolve();yield this.promiseBuffer.add((()=>{const r=JSON.stringify(function(n){let r={meta:{}};return void 0!==n[0]&&(r.meta=n[0].meta),n.forEach((n=>{switch(n.type){case t.LOG:case t.EVENT:case t.EXCEPTION:case t.MEASUREMENT:const o=e[n.type],i=r[o];r=Object.assign(Object.assign({},r),{[o]:void 0===i?[n.payload]:[...i,n.payload]});break;case t.TRACE:r=Object.assign(Object.assign({},r),{traces:Rt(r.traces,n.payload.resourceSpans)})}})),r}(n)),{url:o,requestOptions:i,apiKey:a}=this.options,s=null!=i?i:{},{headers:u}=s,c=At(s,["headers"]);let l;const f=this.metas.value.session;return null!=f&&(l=f.id),fetch(o,Object.assign({method:"POST",headers:Object.assign(Object.assign(Object.assign({"Content-Type":"application/json"},null!=u?u:{}),a?{"x-api-key":a}:{}),l?{"x-faro-session-id":l}:{}),body:r,keepalive:r.length<=6e4},null!=c?c:{})).then((t=>(429===t.status&&(this.disabledUntil=this.getRetryAfterDate(t),this.logWarn(`Too many requests, backing off until ${this.disabledUntil}`)),t.text().catch(P),t))).catch((t=>{this.logError("Failed sending payload to the receiver\n",JSON.parse(r),t)}))}))}catch(t){this.logError(t)}}))}getIgnoreUrls(){var t;return[this.options.url].concat(null!==(t=this.config.ignoreUrls)&&void 0!==t?t:[])}isBatched(){return!0}getRetryAfterDate(t){const e=this.getNow(),n=t.headers.get("Retry-After");if(n){const t=Number(n);if(!isNaN(t))return new Date(1e3*t+e);const r=Date.parse(n);if(!isNaN(r))return new Date(r)}return new Date(e+this.rateLimitBackoffMs)}}class kt extends wt{constructor(){super(...arguments),this.api={},this.transports={}}}const Ct="DOMError",It="DOMException",Nt="Non-Error exception captured with keys:",xt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Dt(t){let e,n,r,o,i=[];if(m(t)&&t.error)e=t.error.message,n=t.error.name,i=ht(t.error);else if((r=y(t))||E(t)){const{name:o,message:i}=t;n=null!=o?o:r?Ct:It,e=i?`${n}: ${i}`:n}else _(t)?(e=t.message,i=ht(t)):(f(t)||(o=v(t)))&&(n=o?t.constructor.name:void 0,e=`${Nt} ${Object.keys(t)}`);return[e,n,i]}function Mt(t){const e=window.onerror;window.onerror=(...n)=>{try{const[e,r,o,i,a]=n;let s,u,l=[];const f=c(e),p=pt(r,"?",o,i);a||!f?([s,u,l]=Dt(null!=a?a:e),0===l.length&&(l=[p])):f&&([s,u]=function(t){var e,n;const r=t.match(xt),o=null!==(e=null==r?void 0:r[1])&&void 0!==e?e:S;return[null!==(n=null==r?void 0:r[2])&&void 0!==n?n:t,o]}(e),l=[p]),s&&t.pushError(new Error(s),{type:u,stackFrames:l})}finally{null==e||e.apply(window,n)}}}function jt(t){window.addEventListener("unhandledrejection",(e=>{var n,r;let o,i,a=e;a.reason?a=e.reason:(null===(n=e.detail)||void 0===n?void 0:n.reason)&&(a=null===(r=e.detail)||void 0===r?void 0:r.reason);let s=[];(t=>!f(t)&&!p(t))(a)?(o=`Non-Error promise rejection captured with value: ${String(a)}`,i="UnhandledRejection"):[o,i,s]=Dt(a),o&&t.pushError(new Error(o),{type:i,stackFrames:s})}))}class Ut extends kt{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-errors",this.version=U}initialize(){this.logDebug("Initializing"),Mt(this.api),jt(this.api)}}var Bt,zt,Ft,Ht,Zt,Gt=-1,Vt=function(t){addEventListener("pageshow",(function(e){e.persisted&&(Gt=e.timeStamp,t(e))}),!0)},Xt=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},qt=function(){var t=Xt();return t&&t.activationStart||0},$t=function(t,e){var n=Xt(),r="navigate";return Gt>=0?r="back-forward-cache":n&&(document.prerendering||qt()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},Kt=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver((function(t){Promise.resolve().then((function(){e(t.getEntries())}))}));return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(t){}},Wt=function(t,e,n,r){var o,i;return function(a){e.value>=0&&(a||r)&&((i=e.value-(o||0))||void 0===o)&&(o=e.value,e.delta=i,e.rating=function(t,e){return t>e[1]?"poor":t>e[0]?"needs-improvement":"good"}(e.value,n),t(e))}},Yt=function(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},Jt=function(t){var e=function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||t(e)};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},Qt=function(t){var e=!1;return function(n){e||(t(n),e=!0)}},te=-1,ee=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},ne=function(t){"hidden"===document.visibilityState&&te>-1&&(te="visibilitychange"===t.type?t.timeStamp:0,oe())},re=function(){addEventListener("visibilitychange",ne,!0),addEventListener("prerenderingchange",ne,!0)},oe=function(){removeEventListener("visibilitychange",ne,!0),removeEventListener("prerenderingchange",ne,!0)},ie=function(){return te<0&&(te=ee(),re(),Vt((function(){setTimeout((function(){te=ee(),re()}),0)}))),{get firstHiddenTime(){return te}}},ae=function(t){document.prerendering?addEventListener("prerenderingchange",(function(){return t()}),!0):t()},se=[1800,3e3],ue=function(t,e){e=e||{},ae((function(){var n,r=ie(),o=$t("FCP"),i=Kt("paint",(function(t){t.forEach((function(t){"first-contentful-paint"===t.name&&(i.disconnect(),t.startTime<r.firstHiddenTime&&(o.value=Math.max(t.startTime-qt(),0),o.entries.push(t),n(!0)))}))}));i&&(n=Wt(t,o,se,e.reportAllChanges),Vt((function(r){o=$t("FCP"),n=Wt(t,o,se,e.reportAllChanges),Yt((function(){o.value=performance.now()-r.timeStamp,n(!0)}))})))}))},ce=[.1,.25],le={passive:!0,capture:!0},fe=new Date,pe=function(t,e){Bt||(Bt=e,zt=t,Ft=new Date,ve(removeEventListener),de())},de=function(){if(zt>=0&&zt<Ft-fe){var t={entryType:"first-input",name:Bt.type,target:Bt.target,cancelable:Bt.cancelable,startTime:Bt.timeStamp,processingStart:Bt.timeStamp+zt};Ht.forEach((function(e){e(t)})),Ht=[]}},he=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,e){var n=function(){pe(t,e),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,le),removeEventListener("pointercancel",r,le)};addEventListener("pointerup",n,le),addEventListener("pointercancel",r,le)}(e,t):pe(e,t)}},ve=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(e){return t(e,he,le)}))},ge=[100,300],_e=0,me=1/0,ye=0,be=function(t){t.forEach((function(t){t.interactionId&&(me=Math.min(me,t.interactionId),ye=Math.max(ye,t.interactionId),_e=ye?(ye-me)/7+1:0)}))},Ee=function(){return Zt?_e:performance.interactionCount||0},Te=function(){"interactionCount"in performance||Zt||(Zt=Kt("event",be,{type:"event",buffered:!0,durationThreshold:0}))},Se=[200,500],we=0,Oe=function(){return Ee()-we},Re=[],Le={},Ae=function(t){var e=Re[Re.length-1],n=Le[t.interactionId];if(n||Re.length<10||t.duration>e.latency){if(n)n.entries.push(t),n.latency=Math.max(n.latency,t.duration);else{var r={id:t.interactionId,latency:t.duration,entries:[t]};Le[r.id]=r,Re.push(r)}Re.sort((function(t,e){return e.latency-t.latency})),Re.splice(10).forEach((function(t){delete Le[t.id]}))}},Pe=[2500,4e3],ke={},Ce=[800,1800],Ie=function t(e){document.prerendering?ae((function(){return t(e)})):"complete"!==document.readyState?addEventListener("load",(function(){return t(e)}),!0):setTimeout(e,0)};class Ne extends kt{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-web-vitals",this.version=U}initialize(){this.logDebug("Initializing"),Object.entries(Ne.mapping).forEach((([t,e])=>{e((e=>{this.api.pushMeasurement({type:"web-vitals",values:{[t]:e.value}})}))}))}}Ne.mapping={cls:function(t,e){e=e||{},ue(Qt((function(){var n,r=$t("CLS",0),o=0,i=[],a=function(t){t.forEach((function(t){if(!t.hadRecentInput){var e=i[0],n=i[i.length-1];o&&t.startTime-n.startTime<1e3&&t.startTime-e.startTime<5e3?(o+=t.value,i.push(t)):(o=t.value,i=[t])}})),o>r.value&&(r.value=o,r.entries=i,n())},s=Kt("layout-shift",a);s&&(n=Wt(t,r,ce,e.reportAllChanges),Jt((function(){a(s.takeRecords()),n(!0)})),Vt((function(){o=0,r=$t("CLS",0),n=Wt(t,r,ce,e.reportAllChanges),Yt((function(){return n()}))})),setTimeout(n,0))})))},fcp:ue,fid:function(t,e){e=e||{},ae((function(){var n,r=ie(),o=$t("FID"),i=function(t){t.startTime<r.firstHiddenTime&&(o.value=t.processingStart-t.startTime,o.entries.push(t),n(!0))},a=function(t){t.forEach(i)},s=Kt("first-input",a);n=Wt(t,o,ge,e.reportAllChanges),s&&Jt(Qt((function(){a(s.takeRecords()),s.disconnect()}))),s&&Vt((function(){var r;o=$t("FID"),n=Wt(t,o,ge,e.reportAllChanges),Ht=[],zt=-1,Bt=null,ve(addEventListener),r=i,Ht.push(r),de()}))}))},inp:function(t,e){e=e||{},ae((function(){var n;Te();var r,o=$t("INP"),i=function(t){t.forEach((function(t){t.interactionId&&Ae(t),"first-input"===t.entryType&&!Re.some((function(e){return e.entries.some((function(e){return t.duration===e.duration&&t.startTime===e.startTime}))}))&&Ae(t)}));var e,n=(e=Math.min(Re.length-1,Math.floor(Oe()/50)),Re[e]);n&&n.latency!==o.value&&(o.value=n.latency,o.entries=n.entries,r())},a=Kt("event",i,{durationThreshold:null!==(n=e.durationThreshold)&&void 0!==n?n:40});r=Wt(t,o,Se,e.reportAllChanges),a&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),Jt((function(){i(a.takeRecords()),o.value<0&&Oe()>0&&(o.value=0,o.entries=[]),r(!0)})),Vt((function(){Re=[],we=Ee(),o=$t("INP"),r=Wt(t,o,Se,e.reportAllChanges)})))}))},lcp:function(t,e){e=e||{},ae((function(){var n,r=ie(),o=$t("LCP"),i=function(t){var e=t[t.length-1];e&&e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-qt(),0),o.entries=[e],n())},a=Kt("largest-contentful-paint",i);if(a){n=Wt(t,o,Pe,e.reportAllChanges);var s=Qt((function(){ke[o.id]||(i(a.takeRecords()),a.disconnect(),ke[o.id]=!0,n(!0))}));["keydown","click"].forEach((function(t){addEventListener(t,(function(){return setTimeout(s,0)}),!0)})),Jt(s),Vt((function(r){o=$t("LCP"),n=Wt(t,o,Pe,e.reportAllChanges),Yt((function(){o.value=performance.now()-r.timeStamp,ke[o.id]=!0,n(!0)}))}))}}))},ttfb:function(t,e){e=e||{};var n=$t("TTFB"),r=Wt(t,n,Ce,e.reportAllChanges);Ie((function(){var o=Xt();if(o){var i=o.responseStart;if(i<=0||i>performance.now())return;n.value=Math.max(i-qt(),0),n.entries=[o],r(!0),Vt((function(){n=$t("TTFB",0),(r=Wt(t,n,Ce,e.reportAllChanges))(!0)}))}}))}};const xe="session_start",De="session_resume";function Me(){return Date.now()}const je="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ0123456789";function Ue(t=10){return Array.from(Array(t)).map((()=>je[Math.floor(Math.random()*je.length)])).join("")}function Be(){var t,e,n;const r=z.config.sessionTracking;let o=null!==(n=null!==(e=null===(t=null==r?void 0:r.sampler)||void 0===t?void 0:t.call(r,{metas:z.metas.value}))&&void 0!==e?e:null==r?void 0:r.samplingRate)&&void 0!==n?n:1;if("number"!=typeof o){o=0}return Math.random()<o}function ze(t,e){let n,r=!1;const o=()=>{null!=n?(t(...n),n=null,setTimeout(o,e)):r=!1};return(...i)=>{r?n=i:(t(...i),r=!0,setTimeout(o,e))}}const Fe={session:"sessionStorage",local:"localStorage"};function He(t){var e;try{let e;e=window[t];const n="__faro_storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(n){return null===(e=z.internalLogger)||void 0===e||e.info(`Web storage of type ${t} is not available. Reason: ${n}`),!1}}function Ze(t,e){return $e(e)?window[e].getItem(t):null}function Ge(t,e,n){if($e(n))try{window[n].setItem(t,e)}catch(t){}}function Ve(t,e){$e(e)&&window[e].removeItem(t)}const Xe=He(Fe.local),qe=He(Fe.session);function $e(t){return t===Fe.local?Xe:t===Fe.session&&qe}function Ke({sessionId:t,started:e,lastActivity:n,isSampled:r=!0}={}){var o,i;const a=Me(),s=null===(i=null===(o=z.config)||void 0===o?void 0:o.sessionTracking)||void 0===i?void 0:i.generateSessionId;return null==t&&(t="function"==typeof s?s():Ue()),{sessionId:t,lastActivity:null!=n?n:a,started:null!=e?e:a,isSampled:r}}function We(t){if(null==t)return!1;const e=Me();if(!(e-t.started<_t))return!1;return e-t.lastActivity<mt}function Ye({fetchUserSession:t,storeUserSession:e}){return function(){var n,r,o;if(!t||!e)return;const i=z.config.sessionTracking,a=null==i?void 0:i.persistent;if(a&&!Xe||!a&&!qe)return;const s=t();if(We(s))e(Object.assign(Object.assign({},s),{lastActivity:Me()}));else{let t=Je(Ke({isSampled:Be()}),s);e(t),null===(n=z.api)||void 0===n||n.setSession(t.sessionMeta),null===(r=null==i?void 0:i.onSessionChange)||void 0===r||r.call(i,null!==(o=null==s?void 0:s.sessionMeta)&&void 0!==o?o:null,t.sessionMeta)}}}function Je(t,e){var n,r,o,i;return Object.assign(Object.assign({},t),{sessionMeta:{id:t.sessionId,attributes:Object.assign(Object.assign(Object.assign(Object.assign({},null===(r=null===(n=z.config.sessionTracking)||void 0===n?void 0:n.session)||void 0===r?void 0:r.attributes),null!==(i=null===(o=z.metas.value.session)||void 0===o?void 0:o.attributes)&&void 0!==i?i:{}),null!=e?{previousSession:e.sessionId}:{}),{isSampled:t.isSampled.toString()})}})}class Qe{constructor(){this.updateSession=ze((()=>this.updateUserSession()),1e3),this.updateUserSession=Ye({fetchUserSession:Qe.fetchUserSession,storeUserSession:Qe.storeUserSession}),this.init()}static removeUserSession(){Ve(gt,Qe.storageTypeLocal)}static storeUserSession(t){Ge(gt,JSON.stringify(t),Qe.storageTypeLocal)}static fetchUserSession(){const t=Ze(gt,Qe.storageTypeLocal);return t?JSON.parse(t):null}init(){document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState&&this.updateSession()})),z.metas.addListener((function(t){const e=t.session,n=Qe.fetchUserSession();if(e&&e.id!==(null==n?void 0:n.sessionId)){const t=Je(Ke({sessionId:e.id,isSampled:Be()}),n);Qe.storeUserSession(t),z.api.setSession(t.sessionMeta)}}))}}Qe.storageTypeLocal=Fe.local;class tn{constructor(){this.updateSession=ze((()=>this.updateUserSession()),1e3),this.updateUserSession=Ye({fetchUserSession:tn.fetchUserSession,storeUserSession:tn.storeUserSession}),this.init()}static removeUserSession(){Ve(gt,tn.storageTypeSession)}static storeUserSession(t){Ge(gt,JSON.stringify(t),tn.storageTypeSession)}static fetchUserSession(){const t=Ze(gt,tn.storageTypeSession);return t?JSON.parse(t):null}init(){document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState&&this.updateSession()})),z.metas.addListener((function(t){const e=t.session,n=tn.fetchUserSession();if(e&&e.id!==(null==n?void 0:n.sessionId)){const t=Je(Ke({sessionId:e.id,isSampled:Be()}),n);tn.storeUserSession(t),z.api.setSession(t.sessionMeta)}}))}}tn.storageTypeSession=Fe.session;class en extends kt{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-session",this.version=U}sendSessionStartEvent(t){var e,n;const r=t.session;if(r&&r.id!==(null===(e=this.notifiedSession)||void 0===e?void 0:e.id)){if(this.notifiedSession&&this.notifiedSession.id===(null===(n=r.attributes)||void 0===n?void 0:n.previousSession))return this.api.pushEvent("session_extend",{},void 0,{skipDedupe:!0}),void(this.notifiedSession=r);this.notifiedSession=r,this.api.pushEvent(xe,{},void 0,{skipDedupe:!0})}}createInitialSession(t,e){var n,r,o,i,a;let s,u,c=t.fetchUserSession();if(e.persistent&&e.maxSessionPersistenceTime&&c){const t=Me();c.lastActivity<t-e.maxSessionPersistenceTime&&(Qe.removeUserSession(),c=null)}if(We(c)){const t=null==c?void 0:c.sessionId;u=Ke({sessionId:t,isSampled:c.isSampled||!1,started:null==c?void 0:c.started}),u.sessionMeta={id:t,attributes:Object.assign(Object.assign(Object.assign({},null===(n=e.session)||void 0===n?void 0:n.attributes),null===(r=null==c?void 0:c.sessionMeta)||void 0===r?void 0:r.attributes),{isSampled:u.isSampled.toString()})},s=De}else{const t=null!==(i=null===(o=e.session)||void 0===o?void 0:o.id)&&void 0!==i?i:function(t){var e,n,r,o;return{id:null!==(o=null===(r=null===(n=null===(e=z.config)||void 0===e?void 0:e.sessionTracking)||void 0===n?void 0:n.generateSessionId)||void 0===r?void 0:r.call(n))&&void 0!==o?o:Ue(),attributes:t}}().id;u=Ke({sessionId:t,isSampled:Be()}),u.sessionMeta={id:t,attributes:Object.assign({isSampled:u.isSampled.toString()},null===(a=e.session)||void 0===a?void 0:a.attributes)},s=xe}return{initialSession:u,lifecycleType:s}}registerBeforeSendHook(t){var e;const{updateSession:n}=new t;null===(e=this.transports)||void 0===e||e.addBeforeSendHooks((t=>{var e,r,o;n();const i=null===(e=t.meta.session)||void 0===e?void 0:e.attributes;if(i&&"true"===(null==i?void 0:i.isSampled)){let e=JSON.parse(JSON.stringify(t));const n=null===(r=e.meta.session)||void 0===r?void 0:r.attributes;return null==n||delete n.isSampled,0===Object.keys(null!=n?n:{}).length&&(null===(o=e.meta.session)||void 0===o||delete o.attributes),e}return null}))}initialize(){this.logDebug("init session instrumentation");const t=this.config.sessionTracking;if(null==t?void 0:t.enabled){const e=(null==t?void 0:t.persistent)?Qe:tn;this.registerBeforeSendHook(e);const{initialSession:n,lifecycleType:r}=this.createInitialSession(e,t);e.storeUserSession(n);const o=n.sessionMeta;this.notifiedSession=o,this.api.setSession(o),r===xe&&this.api.pushEvent(xe,{},void 0,{skipDedupe:!0}),r===De&&this.api.pushEvent(De,{},void 0,{skipDedupe:!0})}this.metas.addListener(this.sendSessionStartEvent.bind(this))}}class nn extends kt{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-view",this.version=U}sendViewChangedEvent(t){var e,n,r;const o=t.view;o&&o.name!==(null===(e=this.notifiedView)||void 0===e?void 0:e.name)&&(this.api.pushEvent("view_changed",{fromView:null!==(r=null===(n=this.notifiedView)||void 0===n?void 0:n.name)&&void 0!==r?r:"",toView:o.name},void 0,{skipDedupe:!0}),this.notifiedView=o)}initialize(){this.sendViewChangedEvent(this.metas.value),this.metas.addListener(this.sendViewChangedEvent.bind(this))}}const rn="com.grafana.faro.lastNavigationId";function on(t=[],e){return t.some((t=>t&&null!=e.match(t)))}function an(t,e={}){for(const[n,r]of Object.entries(e)){const e=t[n];return null!=e&&(d(r)?r.includes(e):e===r)}return!0}function sn(t){const{connectEnd:e,connectStart:n,decodedBodySize:r,domainLookupEnd:o,domainLookupStart:i,duration:a,encodedBodySize:s,fetchStart:u,initiatorType:c,name:l,nextHopProtocol:f,redirectEnd:p,redirectStart:d,renderBlockingStatus:h,requestStart:v,responseEnd:g,responseStart:_,responseStatus:m,secureConnectionStart:y,transferSize:b,workerStart:E}=t;return{name:l,duration:cn(a),tcpHandshakeTime:cn(e-n),dnsLookupTime:cn(o-i),tlsNegotiationTime:cn(v-y),responseStatus:cn(m),redirectTime:cn(p-d),requestTime:cn(_-v),responseTime:cn(g-_),fetchTime:cn(g-u),serviceWorkerTime:cn(u-E),decodedBodySize:cn(r),encodedBodySize:cn(s),cacheHitStatus:function(){let t="fullLoad";0===b?r>0&&(t="cache"):null!=m?304===m&&(t="conditionalFetch"):s>0&&b<s&&(t="conditionalFetch");return t}(),renderBlockingStatus:cn(h),protocol:f,initiatorType:c}}function un(t){const{activationStart:e,domComplete:n,domContentLoadedEventEnd:r,domContentLoadedEventStart:o,domInteractive:i,fetchStart:a,loadEventEnd:s,loadEventStart:u,responseStart:c,type:l}=t,f=function(){var t;if(null!=(null===(t=performance.timing)||void 0===t?void 0:t.domLoading))return performance.timing.domLoading-performance.timeOrigin;return null}();return Object.assign({visibilityState:document.visibilityState,pageLoadTime:cn(n-a),documentParsingTime:cn(f?i-f:null),domProcessingTime:cn(n-i),domContentLoadHandlerTime:cn(r-o),onLoadTime:cn(s-u),ttfb:cn(Math.max(c-(null!=e?e:0),0)),type:l},sn(t))}function cn(t){return null==t?"unknown":"number"==typeof t?Math.round(t).toString():t.toString()}const ln={initiatorType:["xmlhttprequest","fetch"]};var fn=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};class pn extends kt{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-performance",this.version=U}initialize(){"PerformanceObserver"in window?function(t){if("complete"===document.readyState)t();else{const e=()=>{"complete"===document.readyState&&(t(),document.removeEventListener("readystatechange",e))};document.addEventListener("readystatechange",e)}}((()=>fn(this,void 0,void 0,(function*(){const t=this.api.pushEvent,e=this.getIgnoreUrls(),{faroNavigationId:n}=yield function(t,e){let n;const r=new Promise((t=>{n=t})),o=new PerformanceObserver((r=>{var o;const[i]=r.getEntries();if(null==i||on(e,i.name))return;const a=null!==(o=Ze(rn,Fe.session))&&void 0!==o?o:"unknown",s=Object.assign(Object.assign({},un(i.toJSON())),{faroNavigationId:Ue(),faroPreviousNavigationId:a});Ge(rn,s.faroNavigationId,Fe.session),t("faro.performance.navigation",s),n(s)}));return o.observe({type:"navigation",buffered:!0}),r}(t,e);null!=n&&function(t,e,n){const r=z.config.trackResources;new PerformanceObserver((o=>{const i=o.getEntries();for(const o of i){if(on(n,o.name))return;const i=o.toJSON();if(null==r&&an(i,ln)||r){const n=Object.assign(Object.assign({},sn(i)),{faroNavigationId:t,faroResourceId:Ue()});e("faro.performance.resource",n)}}})).observe({type:"resource",buffered:!0})}(n,t,e)})))):this.logDebug("performance observer not supported. Disable performance instrumentation.")}getIgnoreUrls(){var t;return null===(t=this.transports.transports)||void 0===t?void 0:t.flatMap((t=>t.getIgnoreUrls()))}}class dn extends kt{constructor(t={}){super(),this.options=t,this.name="@grafana/faro-web-sdk:instrumentation-console",this.version=U}initialize(){this.logDebug("Initializing\n",this.options),L.filter((t=>{var e;return!(null!==(e=this.options.disabledLevels)&&void 0!==e?e:dn.defaultDisabledLevels).includes(t)})).forEach((t=>{console[t]=(...e)=>{try{this.api.pushLog(e,{level:t})}catch(t){this.logError(t)}finally{this.unpatchedConsole[t](...e)}}}))}}function hn(t={}){const e=[new Ut,new Ne,new en,new nn];return!1!==t.enablePerformanceInstrumentation&&e.unshift(new pn),!1!==t.captureConsole&&e.push(new dn({disabledLevels:t.captureConsoleDisabledLevels})),e}dn.defaultDisabledLevels=[O.DEBUG,O.TRACE,O.LOG];var vn="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},gn="1.7.0",_n=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var mn=function(t){var e=new Set([t]),n=new Set,r=t.match(_n);if(!r)return function(){return!1};var o=+r[1],i=+r[2],a=+r[3];if(null!=r[4])return function(e){return e===t};function s(t){return n.add(t),!1}function u(t){return e.add(t),!0}return function(t){if(e.has(t))return!0;if(n.has(t))return!1;var r=t.match(_n);if(!r)return s(t);var c=+r[1],l=+r[2],f=+r[3];return null!=r[4]||o!==c?s(t):0===o?i===l&&a<=f?u(t):s(t):i<=l?u(t):s(t)}}(gn),yn=gn.split(".")[0],bn=Symbol.for("opentelemetry.js.api."+yn),En=vn;function Tn(t,e,n,r){var o;void 0===r&&(r=!1);var i=En[bn]=null!==(o=En[bn])&&void 0!==o?o:{version:gn};if(!r&&i[t]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return n.error(a.stack||a.message),!1}if(i.version!==gn){a=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+t+" does not match previously registered API v"+gn);return n.error(a.stack||a.message),!1}return i[t]=e,n.debug("@opentelemetry/api: Registered a global for "+t+" v"+gn+"."),!0}function Sn(t){var e,n,r=null===(e=En[bn])||void 0===e?void 0:e.version;if(r&&mn(r))return null===(n=En[bn])||void 0===n?void 0:n[t]}function wn(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+gn+".");var n=En[bn];n&&delete n[t]}function On(t){return Symbol.for(t)}var Rn,Ln=new function t(e){var n=this;n._currentContext=e?new Map(e):new Map,n.getValue=function(t){return n._currentContext.get(t)},n.setValue=function(e,r){var o=new t(n._currentContext);return o._currentContext.set(e,r),o},n.deleteValue=function(e){var r=new t(n._currentContext);return r._currentContext.delete(e),r}},An=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Pn=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},kn=function(){function t(){}return t.prototype.active=function(){return Ln},t.prototype.with=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return e.call.apply(e,Pn([n],An(r),!1))},t.prototype.bind=function(t,e){return e},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}(),Cn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},In=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Nn=function(){function t(t){this._namespace=t.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xn("debug",this._namespace,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xn("error",this._namespace,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xn("info",this._namespace,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xn("warn",this._namespace,t)},t.prototype.verbose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xn("verbose",this._namespace,t)},t}();function xn(t,e,n){var r=Sn("diag");if(r)return n.unshift(e),r[t].apply(r,In([],Cn(n),!1))}!function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"}(Rn||(Rn={}));var Dn,Mn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},jn=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Un=function(){function t(){function t(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Sn("diag");if(r)return r[t].apply(r,jn([],Mn(e),!1))}}var e=this;e.setLogger=function(t,n){var r,o,i;if(void 0===n&&(n={logLevel:Rn.INFO}),t===e){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return e.error(null!==(r=a.stack)&&void 0!==r?r:a.message),!1}"number"==typeof n&&(n={logLevel:n});var s=Sn("diag"),u=function(t,e){function n(n,r){var o=e[n];return"function"==typeof o&&t>=r?o.bind(e):function(){}}return t<Rn.NONE?t=Rn.NONE:t>Rn.ALL&&(t=Rn.ALL),e=e||{},{error:n("error",Rn.ERROR),warn:n("warn",Rn.WARN),info:n("info",Rn.INFO),debug:n("debug",Rn.DEBUG),verbose:n("verbose",Rn.VERBOSE)}}(null!==(o=n.logLevel)&&void 0!==o?o:Rn.INFO,t);if(s&&!n.suppressOverrideMessage){var c=null!==(i=(new Error).stack)&&void 0!==i?i:"<failed to generate stacktrace>";s.warn("Current logger will be overwritten from "+c),u.warn("Current logger will overwrite one already registered from "+c)}return Tn("diag",u,e,!0)},e.disable=function(){wn("diag",e)},e.createComponentLogger=function(t){return new Nn(t)},e.verbose=t("verbose"),e.debug=t("debug"),e.info=t("info"),e.warn=t("warn"),e.error=t("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t}(),Bn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},zn=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Fn="context",Hn=new kn,Zn=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(t){return Tn(Fn,t,Un.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(t,e,n){for(var r,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return(r=this._getContextManager()).with.apply(r,zn([t,e,n],Bn(o),!1))},t.prototype.bind=function(t,e){return this._getContextManager().bind(t,e)},t.prototype._getContextManager=function(){return Sn(Fn)||Hn},t.prototype.disable=function(){this._getContextManager().disable(),wn(Fn,Un.instance())},t}();!function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"}(Dn||(Dn={}));var Gn="0000000000000000",Vn="00000000000000000000000000000000",Xn={traceId:Vn,spanId:Gn,traceFlags:Dn.NONE},qn=function(){function t(t){void 0===t&&(t=Xn),this._spanContext=t}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(t,e){return this},t.prototype.setAttributes=function(t){return this},t.prototype.addEvent=function(t,e){return this},t.prototype.setStatus=function(t){return this},t.prototype.updateName=function(t){return this},t.prototype.end=function(t){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(t,e){},t}(),$n=On("OpenTelemetry Context Key SPAN");function Kn(t){return t.getValue($n)||void 0}function Wn(){return Kn(Zn.getInstance().active())}function Yn(t,e){return t.setValue($n,e)}function Jn(t){return t.deleteValue($n)}function Qn(t,e){return Yn(t,new qn(e))}function tr(t){var e;return null===(e=Kn(t))||void 0===e?void 0:e.spanContext()}var er=/^([0-9a-f]{32})$/i,nr=/^[0-9a-f]{16}$/i;function rr(t){return er.test(t)&&t!==Vn}function or(t){return rr(t.traceId)&&(e=t.spanId,nr.test(e)&&e!==Gn);var e}function ir(t){return new qn(t)}var ar=Zn.getInstance(),sr=function(){function t(){}return t.prototype.startSpan=function(t,e,n){if(void 0===n&&(n=ar.active()),Boolean(null==e?void 0:e.root))return new qn;var r,o=n&&tr(n);return"object"==typeof(r=o)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&or(o)?new qn(o):new qn},t.prototype.startActiveSpan=function(t,e,n,r){var o,i,a;if(!(arguments.length<2)){2===arguments.length?a=e:3===arguments.length?(o=e,a=n):(o=e,i=n,a=r);var s=null!=i?i:ar.active(),u=this.startSpan(t,o,s),c=Yn(s,u);return ar.with(c,a,void 0,u)}},t}();var ur=new sr,cr=function(){function t(t,e,n,r){this._provider=t,this.name=e,this.version=n,this.options=r}return t.prototype.startSpan=function(t,e,n){return this._getTracer().startSpan(t,e,n)},t.prototype.startActiveSpan=function(t,e,n,r){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):ur},t}(),lr=new(function(){function t(){}return t.prototype.getTracer=function(t,e,n){return new sr},t}()),fr=function(){function t(){}return t.prototype.getTracer=function(t,e,n){var r;return null!==(r=this.getDelegateTracer(t,e,n))&&void 0!==r?r:new cr(this,t,e,n)},t.prototype.getDelegate=function(){var t;return null!==(t=this._delegate)&&void 0!==t?t:lr},t.prototype.setDelegate=function(t){this._delegate=t},t.prototype.getDelegateTracer=function(t,e,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(t,e,n)},t}(),pr="trace",dr=function(){function t(){this._proxyTracerProvider=new fr,this.wrapSpanContext=ir,this.isSpanContextValid=or,this.deleteSpan=Jn,this.getSpan=Kn,this.getActiveSpan=Wn,this.getSpanContext=tr,this.setSpan=Yn,this.setSpanContext=Qn}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(t){var e=Tn(pr,this._proxyTracerProvider,Un.instance());return e&&this._proxyTracerProvider.setDelegate(t),e},t.prototype.getTracerProvider=function(){return Sn(pr)||this._proxyTracerProvider},t.prototype.getTracer=function(t,e){return this.getTracerProvider().getTracer(t,e)},t.prototype.disable=function(){wn(pr,Un.instance()),this._proxyTracerProvider=new fr},t}().getInstance(),hr=Zn.getInstance();var vr="OT_ZONE_CONTEXT",gr=function(){function t(){this._enabled=!1,this._zoneCounter=0}return t.prototype._activeContextFromZone=function(t){return t&&t.get(vr)||Ln},t.prototype._bindFunction=function(t,e){var n=this,r=function(){for(var r=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return n.with(t,(function(){return e.apply(r,o)}))};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:e.length}),r},t.prototype._bindListener=function(t,e){var n=e;return void 0!==n.__ot_listeners||(n.__ot_listeners={},"function"==typeof n.addEventListener&&(n.addEventListener=this._patchAddEventListener(n,n.addEventListener,t)),"function"==typeof n.removeEventListener&&(n.removeEventListener=this._patchRemoveEventListener(n,n.removeEventListener))),e},t.prototype._createZoneName=function(){this._zoneCounter++;var t=Math.random();return this._zoneCounter+"-"+t},t.prototype._createZone=function(t,e){var n;return Zone.current.fork({name:t,properties:(n={},n[vr]=e,n)})},t.prototype._getActiveZone=function(){return Zone.current},t.prototype._patchAddEventListener=function(t,e,n){var r=this;return function(o,i,a){void 0===t.__ot_listeners&&(t.__ot_listeners={});var s=t.__ot_listeners[o];void 0===s&&(s=new WeakMap,t.__ot_listeners[o]=s);var u=r.bind(n,i);return s.set(i,u),e.call(this,o,u,a)}},t.prototype._patchRemoveEventListener=function(t,e){return function(n,r){if(void 0===t.__ot_listeners||void 0===t.__ot_listeners[n])return e.call(this,n,r);var o=t.__ot_listeners[n],i=o.get(r);return o.delete(r),e.call(this,n,i||r)}},t.prototype.active=function(){if(!this._enabled)return Ln;var t=this._getActiveZone(),e=this._activeContextFromZone(t);return e||Ln},t.prototype.bind=function(t,e){return void 0===t&&(t=this.active()),"function"==typeof e?this._bindFunction(t,e):(void 0===(n=e)&&(n={}),"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener&&this._bindListener(t,e),e);var n},t.prototype.disable=function(){return this._enabled=!1,this},t.prototype.enable=function(){return this._enabled=!0,this},t.prototype.with=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var i=this._createZoneName();return this._createZone(i,t).run(e,n,r)},t}(),_r=(n(216),On("OpenTelemetry SDK Context Key SUPPRESS_TRACING"));var mr="[_0-9a-z-*/]",yr=new RegExp("^(?:"+("[a-z]"+mr+"{0,255}")+"|"+("[a-z0-9]"+mr+"{0,240}@[a-z]"+mr+"{0,13}")+")$"),br=/^[ -~]{0,255}[!-~]$/,Er=/,|=/;var Tr=function(){function t(t){this._internalState=new Map,t&&this._parse(t)}return t.prototype.set=function(t,e){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,e),n},t.prototype.unset=function(t){var e=this._clone();return e._internalState.delete(t),e},t.prototype.get=function(t){return this._internalState.get(t)},t.prototype.serialize=function(){var t=this;return this._keys().reduce((function(e,n){return e.push(n+"="+t.get(n)),e}),[]).join(",")},t.prototype._parse=function(t){t.length>512||(this._internalState=t.split(",").reverse().reduce((function(t,e){var n=e.trim(),r=n.indexOf("=");if(-1!==r){var o=n.slice(0,r),i=n.slice(r+1,e.length);(function(t){return yr.test(t)})(o)&&function(t){return br.test(t)&&!Er.test(t)}(i)&&t.set(o,i)}return t}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}(),Sr="traceparent",wr="tracestate",Or=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");var Rr,Lr=function(){function t(){}return t.prototype.inject=function(t,e,n){var r=dr.getSpanContext(t);if(r&&!function(t){return!0===t.getValue(_r)}(t)&&or(r)){var o="00-"+r.traceId+"-"+r.spanId+"-0"+Number(r.traceFlags||Dn.NONE).toString(16);n.set(e,Sr,o),r.traceState&&n.set(e,wr,r.traceState.serialize())}},t.prototype.extract=function(t,e,n){var r=n.get(e,Sr);if(!r)return t;var o=Array.isArray(r)?r[0]:r;if("string"!=typeof o)return t;var i=function(t){var e=Or.exec(t);return e?"00"===e[1]&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}:null}(o);if(!i)return t;i.isRemote=!0;var a=n.get(e,wr);if(a){var s=Array.isArray(a)?a.join(","):a;i.traceState=new Tr("string"==typeof s?s:void 0)}return dr.setSpanContext(t,i)},t.prototype.fields=function(){return[Sr,wr]},t}(),Ar=(Rr=function(t,e){return Rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Rr(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Rr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pr=function(){function t(){}return t.prototype.createHistogram=function(t,e){return zr},t.prototype.createCounter=function(t,e){return Br},t.prototype.createUpDownCounter=function(t,e){return Fr},t.prototype.createObservableGauge=function(t,e){return Zr},t.prototype.createObservableCounter=function(t,e){return Hr},t.prototype.createObservableUpDownCounter=function(t,e){return Gr},t.prototype.addBatchObservableCallback=function(t,e){},t.prototype.removeBatchObservableCallback=function(t){},t}(),kr=function(){},Cr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ar(e,t),e.prototype.add=function(t,e){},e}(kr),Ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ar(e,t),e.prototype.add=function(t,e){},e}(kr),Nr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ar(e,t),e.prototype.record=function(t,e){},e}(kr),xr=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.removeCallback=function(t){},t}(),Dr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ar(e,t),e}(xr),Mr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ar(e,t),e}(xr),jr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ar(e,t),e}(xr),Ur=new Pr,Br=new Cr,zr=new Nr,Fr=new Ir,Hr=new Dr,Zr=new Mr,Gr=new jr;var Vr=new(function(){function t(){}return t.prototype.getMeter=function(t,e,n){return Ur},t}()),Xr="metrics",qr=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(t){return Tn(Xr,t,Un.instance())},t.prototype.getMeterProvider=function(){return Sn(Xr)||Vr},t.prototype.getMeter=function(t,e,n){return this.getMeterProvider().getMeter(t,e,n)},t.prototype.disable=function(){wn(Xr,Un.instance())},t}().getInstance();function $r(t){void 0===t&&(t=[]);for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];if(Array.isArray(o)){var i=$r(o);e=e.concat(i.instrumentations)}else"function"==typeof o?e.push(new o):o.instrumentationName&&e.push(o)}return{instrumentations:e}}function Kr(t){var e=$r(t.instrumentations).instrumentations,n=t.tracerProvider||dr.getTracerProvider(),r=t.meterProvider||qr.getMeterProvider();return function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];e&&i.setTracerProvider(e),n&&i.setMeterProvider(n),i.getConfig().enabled||i.enable()}}(e,n,r),function(){!function(t){t.forEach((function(t){return t.disable()}))}(e)}}var Wr,Yr=Un.instance(),Jr="deployment.environment",Qr="process.runtime.name",to="service.name",eo="service.version",no="telemetry.sdk.name",ro="telemetry.sdk.language",oo="telemetry.sdk.version",io=((Wr={})[no]="opentelemetry",Wr[Qr]="browser",Wr[ro]="webjs",Wr[oo]="1.21.0",Wr);var ao=function(){return ao=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ao.apply(this,arguments)},so=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},uo=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},co=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},lo=function(){function t(t,e){var n,r=this;this._attributes=t,this.asyncAttributesPending=null!=e,this._syncAttributes=null!==(n=this._attributes)&&void 0!==n?n:{},this._asyncAttributesPromise=null==e?void 0:e.then((function(t){return r._attributes=Object.assign({},r._attributes,t),r.asyncAttributesPending=!1,t}),(function(t){return Yr.debug("a resource's async attributes promise rejected: %s",t),r.asyncAttributesPending=!1,{}}))}return t.empty=function(){return t.EMPTY},t.default=function(){var e;return new t(((e={})[to]="unknown_service",e[ro]=io[ro],e[no]=io[no],e[oo]=io[oo],e))},Object.defineProperty(t.prototype,"attributes",{get:function(){var t;return this.asyncAttributesPending&&Yr.error("Accessing resource attributes before async attributes settled"),null!==(t=this._attributes)&&void 0!==t?t:{}},enumerable:!1,configurable:!0}),t.prototype.waitForAsyncAttributes=function(){return so(this,void 0,void 0,(function(){return uo(this,(function(t){switch(t.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.merge=function(e){var n,r=this;if(!e)return this;var o=ao(ao({},this._syncAttributes),null!==(n=e._syncAttributes)&&void 0!==n?n:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new t(o);var i=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then((function(t){var n,o=co(t,2),i=o[0],a=o[1];return ao(ao(ao(ao({},r._syncAttributes),i),null!==(n=e._syncAttributes)&&void 0!==n?n:e.attributes),a)}));return new t(o,i)},t.EMPTY=new t({}),t}(),fo=function(){function t(){}return t.prototype.inject=function(t,e){},t.prototype.extract=function(t,e){return t},t.prototype.fields=function(){return[]},t}(),po={get:function(t,e){if(null!=t)return t[e]},keys:function(t){return null==t?[]:Object.keys(t)}},ho={set:function(t,e,n){null!=t&&(t[e]=n)}},vo=On("OpenTelemetry Baggage Key");function go(t){return t.getValue(vo)||void 0}function _o(){return go(Zn.getInstance().active())}function mo(t,e){return t.setValue(vo,e)}function yo(t){return t.deleteValue(vo)}var bo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Eo=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},To=function(){function t(t){this._entries=t?new Map(t):new Map}return t.prototype.getEntry=function(t){var e=this._entries.get(t);if(e)return Object.assign({},e)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(t){var e=bo(t,2);return[e[0],e[1]]}))},t.prototype.setEntry=function(e,n){var r=new t(this._entries);return r._entries.set(e,n),r},t.prototype.removeEntry=function(e){var n=new t(this._entries);return n._entries.delete(e),n},t.prototype.removeEntries=function(){for(var e,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=new t(this._entries);try{for(var a=Eo(r),s=a.next();!s.done;s=a.next()){var u=s.value;i._entries.delete(u)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i},t.prototype.clear=function(){return new t},t}(),So=Symbol("BaggageEntryMetadata"),wo=Un.instance();function Oo(t){return void 0===t&&(t={}),new To(new Map(Object.entries(t)))}var Ro,Lo,Ao="propagation",Po=new fo,ko=function(){function t(){this.createBaggage=Oo,this.getBaggage=go,this.getActiveBaggage=_o,this.setBaggage=mo,this.deleteBaggage=yo}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(t){return Tn(Ao,t,Un.instance())},t.prototype.inject=function(t,e,n){return void 0===n&&(n=ho),this._getGlobalPropagator().inject(t,e,n)},t.prototype.extract=function(t,e,n){return void 0===n&&(n=po),this._getGlobalPropagator().extract(t,e,n)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){wn(Ao,Un.instance())},t.prototype._getGlobalPropagator=function(){return Sn(Ao)||Po},t}().getInstance(),Co="[object Object]",Io="[object Null]",No="[object Undefined]",xo=Function.prototype.toString,Do=xo.call(Object),Mo=(Ro=Object.getPrototypeOf,Lo=Object,function(t){return Ro(Lo(t))}),jo=Object.prototype,Uo=jo.hasOwnProperty,Bo=Symbol?Symbol.toStringTag:void 0,zo=jo.toString;function Fo(t){if(!function(t){return null!=t&&"object"==typeof t}(t)||function(t){if(null==t)return void 0===t?No:Io;return Bo&&Bo in Object(t)?function(t){var e=Uo.call(t,Bo),n=t[Bo],r=!1;try{t[Bo]=void 0,r=!0}catch(t){}var o=zo.call(t);r&&(e?t[Bo]=n:delete t[Bo]);return o}(t):function(t){return zo.call(t)}(t)}(t)!==Co)return!1;var e=Mo(t);if(null===e)return!0;var n=Uo.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&xo.call(n)===Do}var Ho,Zo=20;function Go(t){return qo(t)?t.slice():t}function Vo(t,e,n,r){var o;if(void 0===n&&(n=0),!(n>Zo)){if(n++,Wo(t)||Wo(e)||$o(e))o=Go(e);else if(qo(t)){if(o=t.slice(),qo(e))for(var i=0,a=e.length;i<a;i++)o.push(Go(e[i]));else if(Ko(e))for(i=0,a=(s=Object.keys(e)).length;i<a;i++){o[u=s[i]]=Go(e[u])}}else if(Ko(t))if(Ko(e)){if(!function(t,e){if(!Fo(t)||!Fo(e))return!1;return!0}(t,e))return e;o=Object.assign({},t);var s;for(i=0,a=(s=Object.keys(e)).length;i<a;i++){var u,c=e[u=s[i]];if(Wo(c))void 0===c?delete o[u]:o[u]=c;else{var l=o[u],f=c;if(Xo(t,u,r)||Xo(e,u,r))delete o[u];else{if(Ko(l)&&Ko(f)){var p=r.get(l)||[],d=r.get(f)||[];p.push({obj:t,key:u}),d.push({obj:e,key:u}),r.set(l,p),r.set(f,d)}o[u]=Vo(o[u],c,n,r)}}}}else o=e;return o}}function Xo(t,e,n){for(var r=n.get(t[e])||[],o=0,i=r.length;o<i;o++){var a=r[o];if(a.key===e&&a.obj===t)return!0}return!1}function qo(t){return Array.isArray(t)}function $o(t){return"function"==typeof t}function Ko(t){return!Wo(t)&&!qo(t)&&!$o(t)&&"object"==typeof t}function Wo(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||void 0===t||t instanceof Date||t instanceof RegExp||null===t}!function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"}(Ho||(Ho={}));var Yo=",",Jo=["OTEL_SDK_DISABLED"];function Qo(t){return Jo.indexOf(t)>-1}var ti=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function ei(t){return ti.indexOf(t)>-1}var ni=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function ri(t){return ni.indexOf(t)>-1}var oi=1/0,ii=128,ai={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Rn.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:oi,OTEL_ATTRIBUTE_COUNT_LIMIT:ii,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:oi,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:ii,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:oi,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:ii,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Ho.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function si(t,e,n){if(void 0!==n[t]){var r=String(n[t]);e[t]="true"===r.toLowerCase()}}function ui(t,e,n,r,o){if(void 0===r&&(r=-1/0),void 0===o&&(o=1/0),void 0!==n[t]){var i=Number(n[t]);isNaN(i)||(e[t]=i<r?r:i>o?o:i)}}function ci(t,e,n,r){void 0===r&&(r=Yo);var o=n[t];"string"==typeof o&&(e[t]=o.split(r).map((function(t){return t.trim()})))}var li={ALL:Rn.ALL,VERBOSE:Rn.VERBOSE,DEBUG:Rn.DEBUG,INFO:Rn.INFO,WARN:Rn.WARN,ERROR:Rn.ERROR,NONE:Rn.NONE};function fi(t,e,n){var r=n[t];if("string"==typeof r){var o=li[r.toUpperCase()];null!=o&&(e[t]=o)}}function pi(t){var e={};for(var n in ai){var r=n;if("OTEL_LOG_LEVEL"===r)fi(r,e,t);else if(Qo(r))si(r,e,t);else if(ei(r))ui(r,e,t);else if(ri(r))ci(r,e,t);else{var o=t[r];null!=o&&(e[r]=String(o))}}return e}var di="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{};function hi(){var t=pi(di);return Object.assign({},ai,t)}var vi=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gi=function(){function t(t){var e;void 0===t&&(t={}),this._propagators=null!==(e=t.propagators)&&void 0!==e?e:[],this._fields=Array.from(new Set(this._propagators.map((function(t){return"function"==typeof t.fields?t.fields():[]})).reduce((function(t,e){return t.concat(e)}),[])))}return t.prototype.inject=function(t,e,n){var r,o;try{for(var i=vi(this._propagators),a=i.next();!a.done;a=i.next()){var s=a.value;try{s.inject(t,e,n)}catch(t){Yr.warn("Failed to inject with "+s.constructor.name+". Err: "+t.message)}}}catch(t){r={error:t}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}},t.prototype.extract=function(t,e,n){return this._propagators.reduce((function(t,r){try{return r.extract(t,e,n)}catch(t){Yr.warn("Failed to inject with "+r.constructor.name+". Err: "+t.message)}return t}),t)},t.prototype.fields=function(){return this._fields.slice()},t}(),_i=On("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function mi(t){return!0===t.getValue(_i)}var yi="[_0-9a-z-*/]",bi=new RegExp("^(?:"+("[a-z]"+yi+"{0,255}")+"|"+("[a-z0-9]"+yi+"{0,240}@[a-z]"+yi+"{0,13}")+")$"),Ei=/^[ -~]{0,255}[!-~]$/,Ti=/,|=/;var Si=function(){function t(t){this._internalState=new Map,t&&this._parse(t)}return t.prototype.set=function(t,e){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,e),n},t.prototype.unset=function(t){var e=this._clone();return e._internalState.delete(t),e},t.prototype.get=function(t){return this._internalState.get(t)},t.prototype.serialize=function(){var t=this;return this._keys().reduce((function(e,n){return e.push(n+"="+t.get(n)),e}),[]).join(",")},t.prototype._parse=function(t){t.length>512||(this._internalState=t.split(",").reverse().reduce((function(t,e){var n=e.trim(),r=n.indexOf("=");if(-1!==r){var o=n.slice(0,r),i=n.slice(r+1,e.length);(function(t){return bi.test(t)})(o)&&function(t){return Ei.test(t)&&!Ti.test(t)}(i)&&t.set(o,i)}return t}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}(),wi="traceparent",Oi="tracestate",Ri=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");var Li=function(){function t(){}return t.prototype.inject=function(t,e,n){var r=dr.getSpanContext(t);if(r&&!mi(t)&&or(r)){var o="00-"+r.traceId+"-"+r.spanId+"-0"+Number(r.traceFlags||Dn.NONE).toString(16);n.set(e,wi,o),r.traceState&&n.set(e,Oi,r.traceState.serialize())}},t.prototype.extract=function(t,e,n){var r=n.get(e,wi);if(!r)return t;var o=Array.isArray(r)?r[0]:r;if("string"!=typeof o)return t;var i=function(t){var e=Ri.exec(t);return e?"00"===e[1]&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}:null}(o);if(!i)return t;i.isRemote=!0;var a=n.get(e,Oi);if(a){var s=Array.isArray(a)?a.join(","):a;i.traceState=new Si("string"==typeof s?s:void 0)}return dr.setSpanContext(t,i)},t.prototype.fields=function(){return[wi,Oi]},t}(),Ai="=",Pi=";",ki="baggage",Ci=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Ii(t){var e=t.split(Pi);if(!(e.length<=0)){var n=e.shift();if(n){var r=n.indexOf(Ai);if(!(r<=0)){var o,i,a=decodeURIComponent(n.substring(0,r).trim()),s=decodeURIComponent(n.substring(r+1).trim());return e.length>0&&("string"!=typeof(i=e.join(Pi))&&(wo.error("Cannot create baggage metadata from unknown type: "+typeof i),i=""),o={__TYPE__:So,toString:function(){return i}}),{key:a,value:s,metadata:o}}}}}var Ni=function(){function t(){}return t.prototype.inject=function(t,e,n){var r=ko.getBaggage(t);if(r&&!mi(t)){var o=function(t){return t.getAllEntries().map((function(t){var e=Ci(t,2),n=e[0],r=e[1],o=encodeURIComponent(n)+"="+encodeURIComponent(r.value);return void 0!==r.metadata&&(o+=Pi+r.metadata.toString()),o}))}(r).filter((function(t){return t.length<=4096})).slice(0,180),i=function(t){return t.reduce((function(t,e){var n=t+(""!==t?",":"")+e;return n.length>8192?t:n}),"")}(o);i.length>0&&n.set(e,ki,i)}},t.prototype.extract=function(t,e,n){var r=n.get(e,ki),o=Array.isArray(r)?r.join(","):r;if(!o)return t;var i={};return 0===o.length?t:(o.split(",").forEach((function(t){var e=Ii(t);if(e){var n={value:e.value};e.metadata&&(n.metadata=e.metadata),i[e.key]=n}})),0===Object.entries(i).length?t:ko.setBaggage(t,ko.createBaggage(i)))},t.prototype.fields=function(){return[ki]},t}();var xi,Di="process.runtime.name",Mi="service.name",ji="telemetry.sdk.name",Ui="telemetry.sdk.language",Bi="telemetry.sdk.version",zi=Di,Fi=Mi,Hi=ji,Zi=Ui,Gi=Bi,Vi="webjs",Xi=Vi,qi=((xi={})[Hi]="opentelemetry",xi[zi]="browser",xi[Zi]=Xi,xi[Gi]="1.25.0",xi);var $i,Ki,Wi=function(){return Wi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Wi.apply(this,arguments)},Yi=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},Ji=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Qi=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ta=function(){function t(t,e){var n,r=this;this._attributes=t,this.asyncAttributesPending=null!=e,this._syncAttributes=null!==(n=this._attributes)&&void 0!==n?n:{},this._asyncAttributesPromise=null==e?void 0:e.then((function(t){return r._attributes=Object.assign({},r._attributes,t),r.asyncAttributesPending=!1,t}),(function(t){return Yr.debug("a resource's async attributes promise rejected: %s",t),r.asyncAttributesPending=!1,{}}))}return t.empty=function(){return t.EMPTY},t.default=function(){var e;return new t(((e={})[Fi]="unknown_service",e[Zi]=qi[Zi],e[Hi]=qi[Hi],e[Gi]=qi[Gi],e))},Object.defineProperty(t.prototype,"attributes",{get:function(){var t;return this.asyncAttributesPending&&Yr.error("Accessing resource attributes before async attributes settled"),null!==(t=this._attributes)&&void 0!==t?t:{}},enumerable:!1,configurable:!0}),t.prototype.waitForAsyncAttributes=function(){return Yi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.merge=function(e){var n,r=this;if(!e)return this;var o=Wi(Wi({},this._syncAttributes),null!==(n=e._syncAttributes)&&void 0!==n?n:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new t(o);var i=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then((function(t){var n,o=Qi(t,2),i=o[0],a=o[1];return Wi(Wi(Wi(Wi({},r._syncAttributes),i),null!==(n=e._syncAttributes)&&void 0!==n?n:e.attributes),a)}));return new t(o,i)},t.EMPTY=new t({}),t}();!function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"}($i||($i={})),function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(Ki||(Ki={}));var ea,na=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ra=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function oa(t){var e,n,r={};if("object"!=typeof t||null==t)return r;try{for(var o=na(Object.entries(t)),i=o.next();!i.done;i=o.next()){var a=ra(i.value,2),s=a[0],u=a[1];ia(s)?aa(u)?Array.isArray(u)?r[s]=u.slice():r[s]=u:Yr.warn("Invalid attribute value set for key: "+s):Yr.warn("Invalid attribute key: "+s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}function ia(t){return"string"==typeof t&&t.length>0}function aa(t){return null==t||(Array.isArray(t)?function(t){var e,n,r;try{for(var o=na(t),i=o.next();!i.done;i=o.next()){var a=i.value;if(null!=a){if(!r){if(sa(a)){r=typeof a;continue}return!1}if(typeof a!==r)return!1}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return!0}(t):sa(t))}function sa(t){switch(typeof t){case"number":case"boolean":case"string":return!0}return!1}!function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"}(ea||(ea={}));var ua=performance,ca=Math.pow(10,6),la=Math.pow(10,9);function fa(t){var e=t/1e3;return[Math.trunc(e),Math.round(t%1e3*ca)]}function pa(){var t=ua.timeOrigin;if("number"!=typeof t){var e=ua;t=e.timing&&e.timing.fetchStart}return t}function da(t){return ga(fa(pa()),fa("number"==typeof t?t:ua.now()))}function ha(t){return Array.isArray(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}function va(t){return ha(t)||"number"==typeof t||t instanceof Date}function ga(t,e){var n=[t[0]+e[0],t[1]+e[1]];return n[1]>=la&&(n[1]-=la,n[0]+=1),n}var _a,ma="exception.type",ya="exception.message",ba="exception.stacktrace",Ea=ma,Ta=ya,Sa=ba,wa=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oa=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ra=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},La=function(){function t(t,e,n,r,o,i,a,s,u,c){void 0===a&&(a=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:ea.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=r,this.parentSpanId=i,this.kind=o,this.links=a;var l=Date.now();this._performanceStartTime=ua.now(),this._performanceOffset=l-(this._performanceStartTime+pa()),this._startTimeProvided=null!=s,this.startTime=this._getTime(null!=s?s:l),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,null!=c&&this.setAttributes(c),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,e)}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(t,e){return null==e||this._isSpanEnded()?this:0===t.length?(Yr.warn("Invalid attribute key: "+t),this):aa(e)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(e),this):(Yr.warn("Invalid attribute value set for key: "+t),this)},t.prototype.setAttributes=function(t){var e,n;try{for(var r=wa(Object.entries(t)),o=r.next();!o.done;o=r.next()){var i=Oa(o.value,2),a=i[0],s=i[1];this.setAttribute(a,s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return this},t.prototype.addEvent=function(t,e,n){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return Yr.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(0===this._droppedEventsCount&&Yr.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),va(e)&&(va(n)||(n=e),e=void 0);var r=oa(e);return this.events.push({name:t,attributes:r,time:this._getTime(n),droppedAttributesCount:0}),this},t.prototype.addLink=function(t){return this.links.push(t),this},t.prototype.addLinks=function(t){var e;return(e=this.links).push.apply(e,Ra([],Oa(t),!1)),this},t.prototype.setStatus=function(t){return this._isSpanEnded()||(this.status=t),this},t.prototype.updateName=function(t){return this._isSpanEnded()||(this.name=t),this},t.prototype.end=function(t){this._isSpanEnded()?Yr.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once."):(this._ended=!0,this.endTime=this._getTime(t),this._duration=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return r<0&&(n-=1,r+=la),[n,r]}(this.startTime,this.endTime),this._duration[0]<0&&(Yr.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&Yr.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this))},t.prototype._getTime=function(t){if("number"==typeof t&&t<ua.now())return da(t+this._performanceOffset);if("number"==typeof t)return fa(t);if(t instanceof Date)return fa(t.getTime());if(ha(t))return t;if(this._startTimeProvided)return fa(Date.now());var e=ua.now()-this._performanceStartTime;return ga(this.startTime,fa(e))},t.prototype.isRecording=function(){return!1===this._ended},t.prototype.recordException=function(t,e){var n={};"string"==typeof t?n[Ta]=t:t&&(t.code?n[Ea]=t.code.toString():t.name&&(n[Ea]=t.name),t.message&&(n[Ta]=t.message),t.stack&&(n[Sa]=t.stack)),n[Ea]||n[Ta]?this.addEvent("exception",n,e):Yr.warn("Failed to record an exception "+t)},Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),t.prototype._isSpanEnded=function(){return this._ended&&Yr.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},t.prototype._truncateToLimitUtil=function(t,e){return t.length<=e?t:t.substr(0,e)},t.prototype._truncateToSize=function(t){var e=this,n=this._attributeValueLengthLimit;return n<=0?(Yr.warn("Attribute value limit must be positive, got "+n),t):"string"==typeof t?this._truncateToLimitUtil(t,n):Array.isArray(t)?t.map((function(t){return"string"==typeof t?e._truncateToLimitUtil(t,n):t})):t},t}();!function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(_a||(_a={}));var Aa=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:_a.NOT_RECORD}},t.prototype.toString=function(){return"AlwaysOffSampler"},t}(),Pa=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:_a.RECORD_AND_SAMPLED}},t.prototype.toString=function(){return"AlwaysOnSampler"},t}();var ka=function(t){Yr.error(function(t){return"string"==typeof t?t:JSON.stringify(function(t){for(var e={},n=t;null!==n;)Object.getOwnPropertyNames(n).forEach((function(t){if(!e[t]){var r=n[t];r&&(e[t]=String(r))}})),n=Object.getPrototypeOf(n);return e}(t))}(t))};function Ca(t){try{ka(t)}catch(t){}}var Ia=function(){function t(t){var e,n,r,o;this._root=t.root,this._root||(Ca(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Pa),this._remoteParentSampled=null!==(e=t.remoteParentSampled)&&void 0!==e?e:new Pa,this._remoteParentNotSampled=null!==(n=t.remoteParentNotSampled)&&void 0!==n?n:new Aa,this._localParentSampled=null!==(r=t.localParentSampled)&&void 0!==r?r:new Pa,this._localParentNotSampled=null!==(o=t.localParentNotSampled)&&void 0!==o?o:new Aa}return t.prototype.shouldSample=function(t,e,n,r,o,i){var a=dr.getSpanContext(t);return a&&or(a)?a.isRemote?a.traceFlags&Dn.SAMPLED?this._remoteParentSampled.shouldSample(t,e,n,r,o,i):this._remoteParentNotSampled.shouldSample(t,e,n,r,o,i):a.traceFlags&Dn.SAMPLED?this._localParentSampled.shouldSample(t,e,n,r,o,i):this._localParentNotSampled.shouldSample(t,e,n,r,o,i):this._root.shouldSample(t,e,n,r,o,i)},t.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},t}(),Na=function(){function t(t){void 0===t&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(4294967295*this._ratio)}return t.prototype.shouldSample=function(t,e){return{decision:rr(e)&&this._accumulate(e)<this._upperBound?_a.RECORD_AND_SAMPLED:_a.NOT_RECORD}},t.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},t.prototype._normalize=function(t){return"number"!=typeof t||isNaN(t)?0:t>=1?1:t<=0?0:t},t.prototype._accumulate=function(t){for(var e=0,n=0;n<t.length/8;n++){var r=8*n;e=(e^parseInt(t.slice(r,r+8),16))>>>0}return e},t}(),xa=hi(),Da=Ho.AlwaysOn,Ma=1;function ja(){return{sampler:Ua(xa),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:hi().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:hi().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:hi().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:hi().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:hi().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:hi().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:hi().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:hi().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function Ua(t){switch(void 0===t&&(t=hi()),t.OTEL_TRACES_SAMPLER){case Ho.AlwaysOn:return new Pa;case Ho.AlwaysOff:return new Aa;case Ho.ParentBasedAlwaysOn:return new Ia({root:new Pa});case Ho.ParentBasedAlwaysOff:return new Ia({root:new Aa});case Ho.TraceIdRatio:return new Na(Ba(t));case Ho.ParentBasedTraceIdRatio:return new Ia({root:new Na(Ba(t))});default:return Yr.error('OTEL_TRACES_SAMPLER value "'+t.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+Da+'".'),new Pa}}function Ba(t){if(void 0===t.OTEL_TRACES_SAMPLER_ARG||""===t.OTEL_TRACES_SAMPLER_ARG)return Yr.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+Ma+"."),Ma;var e=Number(t.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(Yr.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+Ma+"."),Ma):e<0||e>1?(Yr.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+Ma+"."),Ma):e}function za(t){var e,n,r,o,i,a,s,u,c,l,f,p,d=Object.assign({},t.spanLimits),h=pi(di);return d.attributeCountLimit=null!==(a=null!==(i=null!==(o=null!==(n=null===(e=t.spanLimits)||void 0===e?void 0:e.attributeCountLimit)&&void 0!==n?n:null===(r=t.generalLimits)||void 0===r?void 0:r.attributeCountLimit)&&void 0!==o?o:h.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==i?i:h.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==a?a:ii,d.attributeValueLengthLimit=null!==(p=null!==(f=null!==(l=null!==(u=null===(s=t.spanLimits)||void 0===s?void 0:s.attributeValueLengthLimit)&&void 0!==u?u:null===(c=t.generalLimits)||void 0===c?void 0:c.attributeValueLengthLimit)&&void 0!==l?l:h.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==f?f:h.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==p?p:oi,Object.assign({},t,{spanLimits:d})}var Fa=function(){this.generateTraceId=Za(16),this.generateSpanId=Za(8)},Ha=Array(32);function Za(t){return function(){for(var e=0;e<2*t;e++)Ha[e]=Math.floor(16*Math.random())+48,Ha[e]>=58&&(Ha[e]+=39);return String.fromCharCode.apply(null,Ha.slice(0,2*t))}}var Ga,Va=function(){function t(t,e,n){this._tracerProvider=n;var r,o,i,a,s=(r=e,o={sampler:Ua()},i=ja(),(a=Object.assign({},i,o,r)).generalLimits=Object.assign({},i.generalLimits,r.generalLimits||{}),a.spanLimits=Object.assign({},i.spanLimits,r.spanLimits||{}),a);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=e.idGenerator||new Fa,this.resource=n.resource,this.instrumentationLibrary=t}return t.prototype.startSpan=function(t,e,n){var r,o,i;void 0===e&&(e={}),void 0===n&&(n=hr.active()),e.root&&(n=dr.deleteSpan(n));var a=dr.getSpan(n);if(mi(n))return Yr.debug("Instrumentation suppressed, returning Noop Span"),dr.wrapSpanContext(Xn);var s,u,c,l=null==a?void 0:a.spanContext(),f=this._idGenerator.generateSpanId();l&&dr.isSpanContextValid(l)?(s=l.traceId,u=l.traceState,c=l.spanId):s=this._idGenerator.generateTraceId();var p=null!==(r=e.kind)&&void 0!==r?r:$i.INTERNAL,d=(null!==(o=e.links)&&void 0!==o?o:[]).map((function(t){return{context:t.context,attributes:oa(t.attributes)}})),h=oa(e.attributes),v=this._sampler.shouldSample(n,s,t,p,h,d);u=null!==(i=v.traceState)&&void 0!==i?i:u;var g={traceId:s,spanId:f,traceFlags:v.decision===Ki.RECORD_AND_SAMPLED?Dn.SAMPLED:Dn.NONE,traceState:u};if(v.decision===Ki.NOT_RECORD)return Yr.debug("Recording is off, propagating context in a non-recording span"),dr.wrapSpanContext(g);var _=oa(Object.assign(h,v.attributes));return new La(this,n,t,g,p,c,d,e.startTime,void 0,_)},t.prototype.startActiveSpan=function(t,e,n,r){var o,i,a;if(!(arguments.length<2)){2===arguments.length?a=e:3===arguments.length?(o=e,a=n):(o=e,i=n,a=r);var s=null!=i?i:hr.active(),u=this.startSpan(t,o,s),c=dr.setSpan(s,u);return hr.with(c,a,void 0,u)}},t.prototype.getGeneralLimits=function(){return this._generalLimits},t.prototype.getSpanLimits=function(){return this._spanLimits},t.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},t}(),Xa=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qa=function(){function t(t){this._spanProcessors=t}return t.prototype.forceFlush=function(){var t,e,n=[];try{for(var r=Xa(this._spanProcessors),o=r.next();!o.done;o=r.next()){var i=o.value;n.push(i.forceFlush())}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return new Promise((function(t){Promise.all(n).then((function(){t()})).catch((function(e){Ca(e||new Error("MultiSpanProcessor: forceFlush failed")),t()}))}))},t.prototype.onStart=function(t,e){var n,r;try{for(var o=Xa(this._spanProcessors),i=o.next();!i.done;i=o.next()){i.value.onStart(t,e)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.onEnd=function(t){var e,n;try{for(var r=Xa(this._spanProcessors),o=r.next();!o.done;o=r.next()){o.value.onEnd(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.shutdown=function(){var t,e,n=[];try{for(var r=Xa(this._spanProcessors),o=r.next();!o.done;o=r.next()){var i=o.value;n.push(i.shutdown())}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return new Promise((function(t,e){Promise.all(n).then((function(){t()}),e)}))},t}(),$a=function(){function t(){}return t.prototype.onStart=function(t,e){},t.prototype.onEnd=function(t){},t.prototype.shutdown=function(){return Promise.resolve()},t.prototype.forceFlush=function(){return Promise.resolve()},t}(),Ka=function(){function t(){var t=this;this._promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))}return Object.defineProperty(t.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),t.prototype.resolve=function(t){this._resolve(t)},t.prototype.reject=function(t){this._reject(t)},t}(),Wa=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ya=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Ja=function(){function t(t,e){this._callback=t,this._that=e,this._isCalled=!1,this._deferred=new Ka}return Object.defineProperty(t.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),t.prototype.call=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,Ya([this._that],Wa(n),!1))).then((function(t){return e._deferred.resolve(t)}),(function(t){return e._deferred.reject(t)}))}catch(t){this._deferred.reject(t)}}return this._deferred.promise},t}();!function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"}(Ga||(Ga={}));var Qa,ts=function(){function t(t,e){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var n=hi();this._maxExportBatchSize="number"==typeof(null==e?void 0:e.maxExportBatchSize)?e.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==e?void 0:e.maxQueueSize)?e.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==e?void 0:e.scheduledDelayMillis)?e.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==e?void 0:e.exportTimeoutMillis)?e.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Ja(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(Yr.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return t.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},t.prototype.onStart=function(t,e){},t.prototype.onEnd=function(t){this._shutdownOnce.isCalled||t.spanContext().traceFlags&Dn.SAMPLED&&this._addToBuffer(t)},t.prototype.shutdown=function(){return this._shutdownOnce.call()},t.prototype._shutdown=function(){var t=this;return Promise.resolve().then((function(){return t.onShutdown()})).then((function(){return t._flushAll()})).then((function(){return t._exporter.shutdown()}))},t.prototype._addToBuffer=function(t){if(this._finishedSpans.length>=this._maxQueueSize)return 0===this._droppedSpansCount&&Yr.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(Yr.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()},t.prototype._flushAll=function(){var t=this;return new Promise((function(e,n){for(var r=[],o=0,i=Math.ceil(t._finishedSpans.length/t._maxExportBatchSize);o<i;o++)r.push(t._flushOneBatch());Promise.all(r).then((function(){e()})).catch(n)}))},t.prototype._flushOneBatch=function(){var t=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(e,n){var r=setTimeout((function(){n(new Error("Timeout"))}),t._exportTimeoutMillis);hr.with(hr.active().setValue(_i,!0),(function(){var o;t._finishedSpans.length<=t._maxExportBatchSize?(o=t._finishedSpans,t._finishedSpans=[]):o=t._finishedSpans.splice(0,t._maxExportBatchSize);for(var i=function(){return t._exporter.export(o,(function(t){var o;clearTimeout(r),t.code===Ga.SUCCESS?e():n(null!==(o=t.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))}))},a=null,s=0,u=o.length;s<u;s++){var c=o[s];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(null!=a||(a=[]),a.push(c.resource.waitForAsyncAttributes()))}null===a?i():Promise.all(a).then(i,(function(t){Ca(t),n(t)}))}))}))},t.prototype._maybeStartTimer=function(){var t=this;if(!this._isExporting){var e=function(){t._isExporting=!0,t._flushOneBatch().finally((function(){t._isExporting=!1,t._finishedSpans.length>0&&(t._clearTimer(),t._maybeStartTimer())})).catch((function(e){t._isExporting=!1,Ca(e)}))};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();void 0===this._timer&&(this._timer=setTimeout((function(){return e()}),this._scheduledDelayMillis),this._timer)}},t.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},t}(),es=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ns=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.onInit(n),r}return es(e,t),e.prototype.onInit=function(t){var e=this;!0!==(null==t?void 0:t.disableAutoFlushOnDocumentHide)&&"undefined"!=typeof document&&(this._visibilityChangeListener=function(){"hidden"===document.visibilityState&&e.forceFlush()},this._pageHideListener=function(){e.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},e.prototype.onShutdown=function(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},e}(ts);!function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved"}(Qa||(Qa={}));var rs,os=function(){function t(t){var e;void 0===t&&(t={}),this._registeredSpanProcessors=[],this._tracers=new Map;var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.shift(),r=new WeakMap;t.length>0;)n=Vo(n,t.shift(),0,r);return n}({},ja(),za(t));this.resource=null!==(e=n.resource)&&void 0!==e?e:ta.empty(),this.resource=ta.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});var r=this._buildExporterFromEnv();if(void 0!==r){var o=new ns(r);this.activeSpanProcessor=o}else this.activeSpanProcessor=new $a}return t.prototype.getTracer=function(t,e,n){var r=t+"@"+(e||"")+":"+((null==n?void 0:n.schemaUrl)||"");return this._tracers.has(r)||this._tracers.set(r,new Va({name:t,version:e,schemaUrl:null==n?void 0:n.schemaUrl},this._config,this)),this._tracers.get(r)},t.prototype.addSpanProcessor=function(t){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((function(t){return Yr.error("Error while trying to shutdown current span processor",t)})),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new qa(this._registeredSpanProcessors)},t.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},t.prototype.register=function(t){void 0===t&&(t={}),dr.setGlobalTracerProvider(this),void 0===t.propagator&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&hr.setGlobalContextManager(t.contextManager),t.propagator&&ko.setGlobalPropagator(t.propagator)},t.prototype.forceFlush=function(){var t=this._config.forceFlushTimeoutMillis,e=this._registeredSpanProcessors.map((function(e){return new Promise((function(n){var r,o=setTimeout((function(){n(new Error("Span processor did not completed within timeout period of "+t+" ms")),r=Qa.timeout}),t);e.forceFlush().then((function(){clearTimeout(o),r!==Qa.timeout&&(r=Qa.resolved,n(r))})).catch((function(t){clearTimeout(o),r=Qa.error,n(t)}))}))}));return new Promise((function(t,n){Promise.all(e).then((function(e){var r=e.filter((function(t){return t!==Qa.resolved}));r.length>0?n(r):t()})).catch((function(t){return n([t])}))}))},t.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},t.prototype._getPropagator=function(t){var e;return null===(e=this.constructor._registeredPropagators.get(t))||void 0===e?void 0:e()},t.prototype._getSpanExporter=function(t){var e;return null===(e=this.constructor._registeredExporters.get(t))||void 0===e?void 0:e()},t.prototype._buildPropagatorFromEnv=function(){var t=this,e=Array.from(new Set(hi().OTEL_PROPAGATORS)),n=e.map((function(e){var n=t._getPropagator(e);return n||Yr.warn('Propagator "'+e+'" requested through environment variable is unavailable.'),n})).reduce((function(t,e){return e&&t.push(e),t}),[]);return 0===n.length?void 0:1===e.length?n[0]:new gi({propagators:n})},t.prototype._buildExporterFromEnv=function(){var t=hi().OTEL_TRACES_EXPORTER;if("none"!==t&&""!==t){var e=this._getSpanExporter(t);return e||Yr.error('Exporter "'+t+'" requested through environment variable is unavailable.'),e}},t._registeredPropagators=new Map([["tracecontext",function(){return new Li}],["baggage",function(){return new Ni}]]),t._registeredExporters=new Map,t}(),is=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},as=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},ss=function(){function t(){this._enabled=!1,this._currentContext=Ln}return t.prototype._bindFunction=function(t,e){void 0===t&&(t=Ln);var n=this,r=function(){for(var r=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return n.with(t,(function(){return e.apply(r,o)}))};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:e.length}),r},t.prototype.active=function(){return this._currentContext},t.prototype.bind=function(t,e){return void 0===t&&(t=this.active()),"function"==typeof e?this._bindFunction(t,e):e},t.prototype.disable=function(){return this._currentContext=Ln,this._enabled=!1,this},t.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._currentContext=Ln),this},t.prototype.with=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var i=this._currentContext;this._currentContext=t||Ln;try{return e.call.apply(e,as([n],is(r),!1))}finally{this._currentContext=i}},t}(),us=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cs=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;if(e.contextManager)throw"contextManager should be defined in register method not in constructor";if(e.propagator)throw"propagator should be defined in register method not in constructor";return n}return us(e,t),e.prototype.register=function(e){void 0===e&&(e={}),void 0===e.contextManager&&(e.contextManager=new ss),e.contextManager&&e.contextManager.enable(),t.prototype.register.call(this,e)},e}(os);!function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"}(rs||(rs={}));var ls=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function fs(t){return Object.keys(t).map((function(e){return ps(e,t[e])}))}function ps(t,e){return{key:t,value:ds(e)}}function ds(t){var e=typeof t;return"string"===e?{stringValue:t}:"number"===e?Number.isInteger(t)?{intValue:t}:{doubleValue:t}:"boolean"===e?{boolValue:t}:t instanceof Uint8Array?{bytesValue:t}:Array.isArray(t)?{arrayValue:{values:t.map(ds)}}:"object"===e&&null!=t?{kvlistValue:{values:Object.entries(t).map((function(t){var e=ls(t,2);return ps(e[0],e[1])}))}}:{}}function hs(t,e){var n,r=t.spanContext(),o=t.status;return{traceId:e.encodeSpanContext(r.traceId),spanId:e.encodeSpanContext(r.spanId),parentSpanId:e.encodeOptionalSpanContext(t.parentSpanId),traceState:null===(n=r.traceState)||void 0===n?void 0:n.serialize(),name:t.name,kind:null==t.kind?0:t.kind+1,startTimeUnixNano:e.encodeHrTime(t.startTime),endTimeUnixNano:e.encodeHrTime(t.endTime),attributes:fs(t.attributes),droppedAttributesCount:t.droppedAttributesCount,events:t.events.map((function(t){return function(t,e){return{attributes:t.attributes?fs(t.attributes):[],name:t.name,timeUnixNano:e.encodeHrTime(t.time),droppedAttributesCount:t.droppedAttributesCount||0}}(t,e)})),droppedEventsCount:t.droppedEventsCount,status:{code:o.code,message:o.message},links:t.links.map((function(t){return function(t,e){var n;return{attributes:t.attributes?fs(t.attributes):[],spanId:e.encodeSpanContext(t.context.spanId),traceId:e.encodeSpanContext(t.context.traceId),traceState:null===(n=t.context.traceState)||void 0===n?void 0:n.serialize(),droppedAttributesCount:t.droppedAttributesCount||0}}(t,e)})),droppedLinksCount:t.droppedLinksCount}}var vs=performance,gs=Math.pow(10,6),_s=Math.pow(10,9);function ms(t){var e=t/1e3;return[Math.trunc(e),Math.round(t%1e3*gs)]}function ys(){var t=vs.timeOrigin;if("number"!=typeof t){var e=vs;t=e.timing&&e.timing.fetchStart}return t}function bs(t){return function(t,e){var n=[t[0]+e[0],t[1]+e[1]];n[1]>=_s&&(n[1]-=_s,n[0]+=1);return n}(ms(ys()),ms("number"==typeof t?t:vs.now()))}function Es(t){if(Ss(t))return t;if("number"==typeof t)return t<ys()?bs(t):ms(t);if(t instanceof Date)return ms(t.getTime());throw TypeError("Invalid input type")}function Ts(t){return t[0]*_s+t[1]}function Ss(t){return Array.isArray(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}function ws(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function Os(t){for(var e=new Uint8Array(t.length/2),n=0,r=0;r<t.length;r+=2){var o=ws(t.charCodeAt(r)),i=ws(t.charCodeAt(r+1));e[n++]=o<<4|i}return e}var Rs=BigInt(1e9);function Ls(t){return BigInt(t[0])*Rs+BigInt(t[1])}function As(t){var e,n=Ls(t);return e=n,{low:Number(BigInt.asUintN(32,e)),high:Number(BigInt.asUintN(32,e>>BigInt(32)))}}var Ps="undefined"!=typeof BigInt?function(t){return Ls(t).toString()}:Ts;function ks(t){return t}function Cs(t){if(void 0!==t)return Os(t)}var Is={encodeHrTime:As,encodeSpanContext:Os,encodeOptionalSpanContext:Cs};var Ns,xs=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ds=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Ms(t,e){var n=function(t){var e,n;if(void 0===t)return Is;var r=null===(e=t.useLongBits)||void 0===e||e,o=null!==(n=t.useHex)&&void 0!==n&&n;return{encodeHrTime:r?As:Ps,encodeSpanContext:o?ks:Os,encodeOptionalSpanContext:o?ks:Cs}}(e);return{resourceSpans:js(t,n)}}function js(t,e){for(var n=function(t){var e,n,r=new Map;try{for(var o=xs(t),i=o.next();!i.done;i=o.next()){var a=i.value,s=r.get(a.resource);s||(s=new Map,r.set(a.resource,s));var u=a.instrumentationLibrary.name+"@"+(a.instrumentationLibrary.version||"")+":"+(a.instrumentationLibrary.schemaUrl||""),c=s.get(u);c||(c=[],s.set(u,c)),c.push(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t),r=[],o=n.entries(),i=o.next();!i.done;){for(var a=Ds(i.value,2),s=a[0],u=[],c=a[1].values(),l=c.next();!l.done;){var f=l.value;if(f.length>0){var p=f[0].instrumentationLibrary,d=p.name,h=p.version,v=p.schemaUrl,g=f.map((function(t){return hs(t,e)}));u.push({scope:{name:d,version:h},spans:g,schemaUrl:v})}l=c.next()}var _={resource:{attributes:fs(s.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};r.push(_),i=o.next()}return r}!function(t){t[t.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",t[t.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",t[t.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",t[t.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",t[t.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",t[t.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"}(Ns||(Ns={}));class Us{constructor(t){this.config=t}export(t,e){const n=Ms(t,{useHex:!0,useLongBits:!1});this.config.api.pushTraces(n),function(t=[]){var e,n;for(const r of t){const{scopeSpans:t}=r;for(const r of t){const{scope:t,spans:o=[]}=r;for(const r of o){if(r.kind!==Ns.SPAN_KIND_CLIENT)continue;const o={traceId:r.traceId.toString(),spanId:r.spanId.toString()},i={};for(const t of r.attributes)i[t.key]=String(Object.values(t.value)[0]);const a=(null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"").indexOf("-");let s="unknown";(null==t?void 0:t.name)&&(-1===a&&(s=null!==(n=t.name.split("/")[1])&&void 0!==n?n:t.name),a>-1&&(s=null==t?void 0:t.name.substring(a+1))),z.api.pushEvent(`faro.tracing.${s}`,i,void 0,{spanContext:o})}}}}(n.resourceSpans),e({code:rs.SUCCESS})}shutdown(){return Promise.resolve(void 0)}}function Bs(t,e,n){var r,o;try{o=t()}catch(t){r=t}finally{if(e(r,o),r&&!n)throw r;return o}}function zs(t){return"function"==typeof t&&"function"==typeof t.__original&&"function"==typeof t.__unwrap&&!0===t.__wrapped}var Fs,Hs=n(132),Zs=function(){return Zs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Zs.apply(this,arguments)},Gs=function(){function t(t,e,n){void 0===n&&(n={}),this.instrumentationName=t,this.instrumentationVersion=e,this._wrap=Hs.wrap,this._unwrap=Hs.unwrap,this._massWrap=Hs.massWrap,this._massUnwrap=Hs.massUnwrap,this._config=Zs({enabled:!0},n),this._diag=Yr.createComponentLogger({namespace:t}),this._tracer=dr.getTracer(t,e),this._meter=qr.getMeter(t,e),this._updateMetricInstruments()}return Object.defineProperty(t.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),t.prototype.setMeterProvider=function(t){this._meter=t.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},t.prototype._updateMetricInstruments=function(){},t.prototype.getConfig=function(){return this._config},t.prototype.setConfig=function(t){void 0===t&&(t={}),this._config=Object.assign({},t)},t.prototype.setTracerProvider=function(t){this._tracer=t.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(t.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),t}(),Vs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xs=function(t){function e(e,n,r){void 0===r&&(r={});var o=t.call(this,e,n,r)||this;return o._config.enabled&&o.enable(),o}return Vs(e,t),e}(Gs),qs=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function $s(t,e){return"string"==typeof e?t===e:!!t.match(e)}function Ks(t,e){var n,r;if(!e)return!1;try{for(var o=qs(e),i=o.next();!i.done;i=o.next()){if($s(t,i.value))return!0}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}!function(t){t.CONNECT_END="connectEnd",t.CONNECT_START="connectStart",t.DECODED_BODY_SIZE="decodedBodySize",t.DOM_COMPLETE="domComplete",t.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",t.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",t.DOM_INTERACTIVE="domInteractive",t.DOMAIN_LOOKUP_END="domainLookupEnd",t.DOMAIN_LOOKUP_START="domainLookupStart",t.ENCODED_BODY_SIZE="encodedBodySize",t.FETCH_START="fetchStart",t.LOAD_EVENT_END="loadEventEnd",t.LOAD_EVENT_START="loadEventStart",t.NAVIGATION_START="navigationStart",t.REDIRECT_END="redirectEnd",t.REDIRECT_START="redirectStart",t.REQUEST_START="requestStart",t.RESPONSE_END="responseEnd",t.RESPONSE_START="responseStart",t.SECURE_CONNECTION_START="secureConnectionStart",t.UNLOAD_EVENT_END="unloadEventEnd",t.UNLOAD_EVENT_START="unloadEventStart"}(Fs||(Fs={}));var Ws,Ys,Js="http.method",Qs="http.url",tu="http.host",eu="http.scheme",nu="http.status_code",ru="http.user_agent",ou="http.response_content_length",iu="http.response_content_length_uncompressed";function au(t,e){return e in t}function su(t,e,n){if(au(n,e)&&"number"==typeof n[e])return t.addEvent(e,n[e]),t}function uu(t,e){su(t,Fs.FETCH_START,e),su(t,Fs.DOMAIN_LOOKUP_START,e),su(t,Fs.DOMAIN_LOOKUP_END,e),su(t,Fs.CONNECT_START,e),au(e,"name")&&e.name.startsWith("https:")&&su(t,Fs.SECURE_CONNECTION_START,e),su(t,Fs.CONNECT_END,e),su(t,Fs.REQUEST_START,e),su(t,Fs.RESPONSE_START,e),su(t,Fs.RESPONSE_END,e);var n=e[Fs.ENCODED_BODY_SIZE];void 0!==n&&t.setAttribute(ou,n);var r=e[Fs.DECODED_BODY_SIZE];void 0!==r&&n!==r&&t.setAttribute(iu,r)}function cu(){return"undefined"!=typeof location?location.origin:void 0}function lu(t,e,n,r,o,i){void 0===o&&(o=new WeakSet);var a=fu(t),s=function(t,e,n,r,o,i){var a=Ts(e),s=Ts(n),u=r.filter((function(e){var n=Ts(Es(e[Fs.FETCH_START])),r=Ts(Es(e[Fs.RESPONSE_END]));return e.initiatorType.toLowerCase()===(i||"xmlhttprequest")&&e.name===t&&n>=a&&r<=s}));u.length>0&&(u=u.filter((function(t){return!o.has(t)})));return u}(t=a.toString(),e,n,r,o,i);if(0===s.length)return{mainRequest:void 0};if(1===s.length)return{mainRequest:s[0]};var u=function(t){return t.slice().sort((function(t,e){var n=t[Fs.FETCH_START],r=e[Fs.FETCH_START];return n>r?1:n<r?-1:0}))}(s);if(a.origin!==cu()&&u.length>1){var c=u[0],l=function(t,e,n){for(var r,o=Ts(n),i=Ts(Es(e)),a=t[1],s=t.length,u=1;u<s;u++){var c=t[u],l=Ts(Es(c[Fs.FETCH_START])),f=o-Ts(Es(c[Fs.RESPONSE_END]));l>=i&&(!r||f<r)&&(r=f,a=c)}return a}(u,c[Fs.RESPONSE_END],n),f=c[Fs.RESPONSE_END];return l[Fs.FETCH_START]<f&&(l=c,c=void 0),{corsPreFlightRequest:c,mainRequest:l}}return{mainRequest:s[0]}}function fu(t){if("function"==typeof URL)return new URL(t,"undefined"!=typeof document?document.baseURI:"undefined"!=typeof location?location.href:void 0);var e=(Ws||(Ws=document.createElement("a")),Ws);return e.href=t,e}!function(t){t.COMPONENT="component",t.HTTP_ERROR_NAME="http.error_name",t.HTTP_STATUS_TEXT="http.status_text"}(Ys||(Ys={}));var pu,du,hu,vu="0.48.0",gu="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},_u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mu=function(t){function e(e){var n=t.call(this,"@opentelemetry/instrumentation-fetch",vu,e)||this;return n.component="fetch",n.version=vu,n.moduleName=n.component,n._usedResources=new WeakSet,n._tasksCount=0,n}return _u(e,t),e.prototype.init=function(){},e.prototype._getConfig=function(){return this._config},e.prototype._addChildSpan=function(t,e){var n=this.tracer.startSpan("CORS Preflight",{startTime:e[Fs.FETCH_START]},dr.setSpan(hr.active(),t));this._getConfig().ignoreNetworkEvents||uu(n,e),n.end(e[Fs.RESPONSE_END])},e.prototype._addFinalSpanAttributes=function(t,e){var n=fu(e.url);t.setAttribute(nu,e.status),null!=e.statusText&&t.setAttribute(Ys.HTTP_STATUS_TEXT,e.statusText),t.setAttribute(tu,n.host),t.setAttribute(eu,n.protocol.replace(":","")),"undefined"!=typeof navigator&&t.setAttribute(ru,navigator.userAgent)},e.prototype._addHeaders=function(t,e){if(!function(t,e){var n=e||[];return("string"==typeof n||n instanceof RegExp)&&(n=[n]),fu(t).origin===cu()||n.some((function(e){return $s(t,e)}))}(e,this._getConfig().propagateTraceHeaderCorsUrls)){var n={};return ko.inject(hr.active(),n),void(Object.keys(n).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}if(t instanceof Request)ko.inject(hr.active(),t.headers,{set:function(t,e,n){return t.set(e,"string"==typeof n?n:String(n))}});else if(t.headers instanceof Headers)ko.inject(hr.active(),t.headers,{set:function(t,e,n){return t.set(e,"string"==typeof n?n:String(n))}});else if(t.headers instanceof Map)ko.inject(hr.active(),t.headers,{set:function(t,e,n){return t.set(e,"string"==typeof n?n:String(n))}});else{n={};ko.inject(hr.active(),n),t.headers=Object.assign({},n,t.headers||{})}},e.prototype._clearResources=function(){0===this._tasksCount&&this._getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)},e.prototype._createSpan=function(t,e){var n;if(void 0===e&&(e={}),!Ks(t,this._getConfig().ignoreUrls)){var r=(e.method||"GET").toUpperCase(),o="HTTP "+r;return this.tracer.startSpan(o,{kind:$i.CLIENT,attributes:(n={},n[Ys.COMPONENT]=this.moduleName,n[Js]=r,n[Qs]=t,n)})}this._diag.debug("ignoring span as url matches ignored url")},e.prototype._findResourceAndAddNetworkEvents=function(t,e,n){var r=e.entries;if(!r.length){if(!performance.getEntriesByType)return;r=performance.getEntriesByType("resource")}var o=lu(e.spanUrl,e.startTime,n,r,this._usedResources,"fetch");if(o.mainRequest){var i=o.mainRequest;this._markResourceAsUsed(i);var a=o.corsPreFlightRequest;a&&(this._addChildSpan(t,a),this._markResourceAsUsed(a)),this._getConfig().ignoreNetworkEvents||uu(t,i)}},e.prototype._markResourceAsUsed=function(t){this._usedResources.add(t)},e.prototype._endSpan=function(t,e,n){var r=this,o=ms(Date.now()),i=bs();this._addFinalSpanAttributes(t,n),setTimeout((function(){var n;null===(n=e.observer)||void 0===n||n.disconnect(),r._findResourceAndAddNetworkEvents(t,e,i),r._tasksCount--,r._clearResources(),t.end(o)}),300)},e.prototype._patchConstructor=function(){var t=this;return function(e){var n=t;return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=this,i=fu(t[0]instanceof Request?t[0].url:String(t[0])).href,a=t[0]instanceof Request?t[0]:t[1]||{},s=n._createSpan(i,a);if(!s)return e.apply(this,t);var u=n._prepareSpanData(i);function c(t,e){n._applyAttributesAfterFetch(t,a,e),n._endSpan(t,u,{status:e.status||0,statusText:e.message,url:i})}function l(t,e){n._applyAttributesAfterFetch(t,a,e),e.status>=200&&e.status<400?n._endSpan(t,u,e):n._endSpan(t,u,{status:e.status,statusText:e.statusText,url:i})}function f(t,e,n){try{var r=n.clone(),o=n.clone(),i=r.body;if(i){var a=i.getReader(),s=function(){a.read().then((function(e){e.done?l(t,o):s()}),(function(e){c(t,e)}))};s()}else l(t,n)}finally{e(n)}}function p(t,e,n){try{c(t,n)}finally{e(n)}}return new Promise((function(t,r){return hr.with(dr.setSpan(hr.active(),s),(function(){return n._addHeaders(a,i),n._tasksCount++,e.apply(o,a instanceof Request?[a]:[i,a]).then(f.bind(o,s,t),p.bind(o,s,r))}))}))}}},e.prototype._applyAttributesAfterFetch=function(t,e,n){var r=this,o=this._getConfig().applyCustomAttributesOnSpan;o&&Bs((function(){return o(t,e,n)}),(function(t){t&&r._diag.error("applyCustomAttributesOnSpan",t)}),!0)},e.prototype._prepareSpanData=function(t){var e=bs(),n=[];if("function"!=typeof PerformanceObserver)return{entries:n,startTime:e,spanUrl:t};var r=new PerformanceObserver((function(e){e.getEntries().forEach((function(e){"fetch"===e.initiatorType&&e.name===t&&n.push(e)}))}));return r.observe({entryTypes:["resource"]}),{entries:n,observer:r,startTime:e,spanUrl:t}},e.prototype.enable=function(){zs(fetch)&&(this._unwrap(gu,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(gu,"fetch",this._patchConstructor())},e.prototype.disable=function(){this._unwrap(gu,"fetch"),this._usedResources=new WeakSet},e}(Xs);function yu(t,e){return e in t}function bu(t,e,n){if(yu(n,e)&&"number"==typeof n[e])return t.addEvent(e,n[e]),t}function Eu(t,e){bu(t,pu.FETCH_START,e),bu(t,pu.DOMAIN_LOOKUP_START,e),bu(t,pu.DOMAIN_LOOKUP_END,e),bu(t,pu.CONNECT_START,e),yu(e,"name")&&e.name.startsWith("https:")&&bu(t,pu.SECURE_CONNECTION_START,e),bu(t,pu.CONNECT_END,e),bu(t,pu.REQUEST_START,e),bu(t,pu.RESPONSE_START,e),bu(t,pu.RESPONSE_END,e);var n=e[pu.ENCODED_BODY_SIZE];void 0!==n&&t.setAttribute(ou,n);var r=e[pu.DECODED_BODY_SIZE];void 0!==r&&n!==r&&t.setAttribute(iu,r)}function Tu(){return"undefined"!=typeof location?location.origin:void 0}function Su(t,e,n,r,o,i){void 0===o&&(o=new WeakSet);var a=wu(t),s=function(t,e,n,r,o,i){var a=Ts(e),s=Ts(n),u=r.filter((function(e){var n=Ts(Es(e[pu.FETCH_START])),r=Ts(Es(e[pu.RESPONSE_END]));return e.initiatorType.toLowerCase()===(i||"xmlhttprequest")&&e.name===t&&n>=a&&r<=s}));u.length>0&&(u=u.filter((function(t){return!o.has(t)})));return u}(t=a.toString(),e,n,r,o,i);if(0===s.length)return{mainRequest:void 0};if(1===s.length)return{mainRequest:s[0]};var u=function(t){return t.slice().sort((function(t,e){var n=t[pu.FETCH_START],r=e[pu.FETCH_START];return n>r?1:n<r?-1:0}))}(s);if(a.origin!==Tu()&&u.length>1){var c=u[0],l=function(t,e,n){for(var r,o=Ts(n),i=Ts(Es(e)),a=t[1],s=t.length,u=1;u<s;u++){var c=t[u],l=Ts(Es(c[pu.FETCH_START])),f=o-Ts(Es(c[pu.RESPONSE_END]));l>=i&&(!r||f<r)&&(r=f,a=c)}return a}(u,c[pu.RESPONSE_END],n),f=c[pu.RESPONSE_END];return l[pu.FETCH_START]<f&&(l=c,c=void 0),{corsPreFlightRequest:c,mainRequest:l}}return{mainRequest:s[0]}}function wu(t){if("function"==typeof URL)return new URL(t,"undefined"!=typeof document?document.baseURI:"undefined"!=typeof location?location.href:void 0);var e=(du||(du=document.createElement("a")),du);return e.href=t,e}!function(t){t.CONNECT_END="connectEnd",t.CONNECT_START="connectStart",t.DECODED_BODY_SIZE="decodedBodySize",t.DOM_COMPLETE="domComplete",t.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",t.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",t.DOM_INTERACTIVE="domInteractive",t.DOMAIN_LOOKUP_END="domainLookupEnd",t.DOMAIN_LOOKUP_START="domainLookupStart",t.ENCODED_BODY_SIZE="encodedBodySize",t.FETCH_START="fetchStart",t.LOAD_EVENT_END="loadEventEnd",t.LOAD_EVENT_START="loadEventStart",t.NAVIGATION_START="navigationStart",t.REDIRECT_END="redirectEnd",t.REDIRECT_START="redirectStart",t.REQUEST_START="requestStart",t.RESPONSE_END="responseEnd",t.RESPONSE_START="responseStart",t.SECURE_CONNECTION_START="secureConnectionStart",t.UNLOAD_EVENT_END="unloadEventEnd",t.UNLOAD_EVENT_START="unloadEventStart"}(pu||(pu={})),function(t){t.METHOD_OPEN="open",t.METHOD_SEND="send",t.EVENT_ABORT="abort",t.EVENT_ERROR="error",t.EVENT_LOAD="loaded",t.EVENT_TIMEOUT="timeout"}(hu||(hu={}));var Ou,Ru="0.48.0";!function(t){t.HTTP_STATUS_TEXT="http.status_text"}(Ou||(Ou={}));var Lu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Au=function(t){function e(e){var n=t.call(this,"@opentelemetry/instrumentation-xml-http-request",Ru,e)||this;return n.component="xml-http-request",n.version=Ru,n.moduleName=n.component,n._tasksCount=0,n._xhrMem=new WeakMap,n._usedResources=new WeakSet,n}return Lu(e,t),e.prototype.init=function(){},e.prototype._getConfig=function(){return this._config},e.prototype._addHeaders=function(t,e){if(!function(t,e){var n=e||[];return("string"==typeof n||n instanceof RegExp)&&(n=[n]),wu(t).origin===Tu()||n.some((function(e){return $s(t,e)}))}(wu(e).href,this._getConfig().propagateTraceHeaderCorsUrls)){var n={};return ko.inject(hr.active(),n),void(Object.keys(n).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}var r={};ko.inject(hr.active(),r),Object.keys(r).forEach((function(e){t.setRequestHeader(e,String(r[e]))}))},e.prototype._addChildSpan=function(t,e){var n=this;hr.with(dr.setSpan(hr.active(),t),(function(){var t=n.tracer.startSpan("CORS Preflight",{startTime:e[pu.FETCH_START]});Eu(t,e),t.end(e[pu.RESPONSE_END])}))},e.prototype._addFinalSpanAttributes=function(t,e,n){if("string"==typeof n){var r=wu(n);void 0!==e.status&&t.setAttribute(nu,e.status),void 0!==e.statusText&&t.setAttribute(Ou.HTTP_STATUS_TEXT,e.statusText),t.setAttribute(tu,r.host),t.setAttribute(eu,r.protocol.replace(":","")),t.setAttribute(ru,navigator.userAgent)}},e.prototype._applyAttributesAfterXHR=function(t,e){var n=this,r=this._getConfig().applyCustomAttributesOnSpan;"function"==typeof r&&Bs((function(){return r(t,e)}),(function(t){t&&n._diag.error("applyCustomAttributesOnSpan",t)}),!0)},e.prototype._addResourceObserver=function(t,e){var n=this._xhrMem.get(t);n&&"function"==typeof PerformanceObserver&&"function"==typeof PerformanceResourceTiming&&(n.createdResources={observer:new PerformanceObserver((function(t){var r=t.getEntries(),o=wu(e);r.forEach((function(t){"xmlhttprequest"===t.initiatorType&&t.name===o.href&&n.createdResources&&n.createdResources.entries.push(t)}))})),entries:[]},n.createdResources.observer.observe({entryTypes:["resource"]}))},e.prototype._clearResources=function(){0===this._tasksCount&&this._getConfig().clearTimingResources&&(vs.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)},e.prototype._findResourceAndAddNetworkEvents=function(t,e,n,r,o){if(n&&r&&o&&t.createdResources){var i=t.createdResources.entries;i&&i.length||(i=vs.getEntriesByType("resource"));var a=Su(wu(n).href,r,o,i,this._usedResources);if(a.mainRequest){var s=a.mainRequest;this._markResourceAsUsed(s);var u=a.corsPreFlightRequest;u&&(this._addChildSpan(e,u),this._markResourceAsUsed(u)),Eu(e,s)}}},e.prototype._cleanPreviousSpanInformation=function(t){var e=this._xhrMem.get(t);if(e){var n=e.callbackToRemoveEvents;n&&n(),this._xhrMem.delete(t)}},e.prototype._createSpan=function(t,e,n){var r;if(!Ks(e,this._getConfig().ignoreUrls)){var o=n.toUpperCase(),i=this.tracer.startSpan(o,{kind:$i.CLIENT,attributes:(r={},r[Js]=n,r[Qs]=wu(e).toString(),r)});return i.addEvent(hu.METHOD_OPEN),this._cleanPreviousSpanInformation(t),this._xhrMem.set(t,{span:i,spanUrl:e}),i}this._diag.debug("ignoring span as url matches ignored url")},e.prototype._markResourceAsUsed=function(t){this._usedResources.add(t)},e.prototype._patchOpen=function(){var t=this;return function(e){var n=t;return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=t[0],i=t[1];return n._createSpan(this,i,o),e.apply(this,t)}}},e.prototype._patchSend=function(){var t=this;function e(e,n){var r=t._xhrMem.get(n);if(r){r.status=n.status,r.statusText=n.statusText,t._xhrMem.delete(n),r.span&&t._applyAttributesAfterXHR(r.span,n);var o=bs(),i=Date.now();setTimeout((function(){!function(e,n,r,o){var i=n.callbackToRemoveEvents;"function"==typeof i&&i();var a=n.span,s=n.spanUrl,u=n.sendStartTime;a&&(t._findResourceAndAddNetworkEvents(n,a,s,u,r),a.addEvent(e,o),t._addFinalSpanAttributes(a,n,s),a.end(o),t._tasksCount--),t._clearResources()}(e,r,o,i)}),300)}}function n(){e(hu.EVENT_ERROR,this)}function r(){e(hu.EVENT_ABORT,this)}function o(){e(hu.EVENT_TIMEOUT,this)}function i(){this.status<299?e(hu.EVENT_LOAD,this):e(hu.EVENT_ERROR,this)}return function(e){return function(){for(var a=this,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var c=t._xhrMem.get(this);if(!c)return e.apply(this,s);var l=c.span,f=c.spanUrl;return l&&f&&hr.with(dr.setSpan(hr.active(),l),(function(){t._tasksCount++,c.sendStartTime=bs(),l.addEvent(hu.METHOD_SEND),a.addEventListener("abort",r),a.addEventListener("error",n),a.addEventListener("load",i),a.addEventListener("timeout",o),c.callbackToRemoveEvents=function(){!function(e){e.removeEventListener("abort",r),e.removeEventListener("error",n),e.removeEventListener("load",i),e.removeEventListener("timeout",o);var a=t._xhrMem.get(e);a&&(a.callbackToRemoveEvents=void 0)}(a),c.createdResources&&c.createdResources.observer.disconnect()},t._addHeaders(a,f),t._addResourceObserver(a,f)})),e.apply(this,s)}}},e.prototype.enable=function(){this._diag.debug("applying patch to",this.moduleName,this.version),zs(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),zs(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())},e.prototype.disable=function(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet},e}(Xs);const Pu={ignoreUrls:[],propagateTraceHeaderCorsUrls:[]};function ku(t=Pu){return[new mu(t),new Au(t)]}function Cu(t={}){var e;return"true"===(null===(e=t.attributes)||void 0===e?void 0:e.isSampled)?_a.RECORD_AND_SAMPLED:_a.NOT_RECORD}class Iu{constructor(t,e){this.processor=t,this.metas=e}forceFlush(){return this.processor.forceFlush()}onStart(t,e){const n=this.metas.value.session;(null==n?void 0:n.id)&&(t.attributes.session_id=n.id),this.processor.onStart(t,e)}onEnd(t){this.processor.onEnd(t)}shutdown(){return this.processor.shutdown()}}class Nu extends kt{constructor(t={}){super(),this.options=t,this.name="@grafana/faro-web-tracing",this.version=U}initialize(){var t,e,n,r,o;const i=this.options,a={};this.config.app.name&&(a[to]=this.config.app.name),this.config.app.version&&(a[eo]=this.config.app.version),this.config.app.environment&&(a[Jr]=this.config.app.environment),Object.assign(a,i.resourceAttributes);const s=lo.default().merge(new lo(a)),u=new cs({resource:s,sampler:{shouldSample:()=>({decision:Cu(this.api.getSession())})}});u.addSpanProcessor(null!==(t=i.spanProcessor)&&void 0!==t?t:new Iu(new ns(new Us({api:this.api}),{scheduledDelayMillis:Nu.SCHEDULED_BATCH_DELAY_MS,maxExportBatchSize:30}),this.metas)),u.register({propagator:null!==(e=i.propagator)&&void 0!==e?e:new Lr,contextManager:null!==(n=i.contextManager)&&void 0!==n?n:new gr}),Kr({instrumentations:null!==(r=i.instrumentations)&&void 0!==r?r:ku({ignoreUrls:this.getIgnoreUrls(),propagateTraceHeaderCorsUrls:null===(o=this.options.instrumentationOptions)||void 0===o?void 0:o.propagateTraceHeaderCorsUrls})}),this.api.initOTEL(dr,hr)}getIgnoreUrls(){return this.transports.transports.flatMap((t=>t.getIgnoreUrls()))}}function xu(t){return xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(t)}function Du(){Du=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof _?e:_,a=Object.create(i.prototype),s=new k(r||[]);return o(a,"_invoke",{value:R(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",g={};function _(){}function m(){}function y(){}var b={};c(b,a,(function(){return this}));var E=Object.getPrototypeOf,T=E&&E(E(C([])));T&&T!==n&&r.call(T,a)&&(b=T);var S=y.prototype=_.prototype=Object.create(b);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==xu(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function R(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=L(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=f(e,n,r);if("normal"===c.type){if(o=r.done?v:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(xu(e)+" is not iterable")}return m.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:m,configurable:!0}),m.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},w(O.prototype),c(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(S),c(S,u,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function Mu(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function ju(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Mu(i,r,o,a,s,"next",t)}function s(t){Mu(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Uu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}Nu.SCHEDULED_BATCH_DELAY_MS=1e3;var Bu=function(t){const e=function(t){var e,n,r,o,i,a,s,u,c;const l=[],p=x(t.unpatchedConsole,t.internalLoggerLevel);return t.transports?((t.url||t.apiKey)&&p.error('if "transports" is defined, "url" and "apiKey" should not be defined'),l.push(...t.transports)):t.url?l.push(new Pt({url:t.url,apiKey:t.apiKey})):p.error('either "url" or "transports" must be defined'),{app:t.app,batching:Object.assign(Object.assign({},K),t.batching),dedupe:null===(e=t.dedupe)||void 0===e||e,globalObjectKey:t.globalObjectKey||$,instrumentations:null!==(n=t.instrumentations)&&void 0!==n?n:hn(),internalLoggerLevel:null!==(r=t.internalLoggerLevel)&&void 0!==r?r:I,isolate:null!==(o=t.isolate)&&void 0!==o&&o,metas:function(){const e=Et;return t.metas&&e.push(...t.metas),f(window.k6)?[...e,St]:e}(),parseStacktrace:vt,paused:null!==(i=t.paused)&&void 0!==i&&i,preventGlobalExposure:null!==(a=t.preventGlobalExposure)&&void 0!==a&&a,transports:l,unpatchedConsole:null!==(s=t.unpatchedConsole)&&void 0!==s?s:N,beforeSend:t.beforeSend,eventDomain:null!==(u=t.eventDomain)&&void 0!==u?u:W,ignoreErrors:t.ignoreErrors,ignoreUrls:t.ignoreUrls,sessionTracking:Object.assign(Object.assign({},yt),t.sessionTracking),user:t.user,view:null!==(c=t.view)&&void 0!==c?c:Tt,trackResources:t.trackResources}}(t);if(e)return q(e)}({url:"https://faro-collector-prod-au-southeast-0.grafana.net/collect/27af9f41ad3a38f92b3c07ceb9085ea0",app:{name:"Faro Demo",version:"1.0.0",environment:"production"},instrumentations:[].concat(function(t){return function(t){if(Array.isArray(t))return Uu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Uu(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uu(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(hn({captureConsoleDisabledLevels:[]})),[new Nu]),beforeSend:function(t){return console.log("Beacon data:",t),t}});document.addEventListener("DOMContentLoaded",(function(){var t,e,n;null===(t=document.getElementById("log-info-btn"))||void 0===t||t.addEventListener("click",(function(){console.info("User clicked the log info button"),alert("Console Info Log")})),null===(e=document.getElementById("log-warn-btn"))||void 0===e||e.addEventListener("click",(function(){console.warn("User clicked the log warn button"),alert("Console Warn Log")})),null===(n=document.getElementById("log-error-btn"))||void 0===n||n.addEventListener("click",(function(){console.error("User clicked the log error button"),alert("Console Error Log")})),function(t){var e,n;null===(e=document.getElementById("uncaught-error-btn"))||void 0===e||e.addEventListener("click",(function(){alert("Trigger uncaught error"),console.log(a)})),null===(n=document.getElementById("caught-error-btn"))||void 0===n||n.addEventListener("click",(function(){try{console.log(b)}catch(e){console.log(e),t.api.pushError(e),alert("Trigger caught error")}}))}(Bu),function(t){var e,n,r=t.api.getOTEL(),o=r.trace,i=r.context,a=o.getTracer("default");null===(e=document.getElementById("fetch-data-btn"))||void 0===e||e.addEventListener("click",(function(){var e=a.startSpan("FetchData",{attributes:{action:"Fetching data from API"}});i.with(o.setSpan(i.active(),e),ju(Du().mark((function n(){var r,o;return Du().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/data");case 3:return r=n.sent,n.next=6,r.json();case 6:o=n.sent,document.getElementById("data-output").textContent=JSON.stringify(o),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),t.api.pushError(n.t0);case 13:return n.prev=13,e.end(),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,10,13,16]])}))))})),null===(n=document.getElementById("fetch-fail-btn"))||void 0===n||n.addEventListener("click",(function(){var e=a.startSpan("FetchData",{attributes:{action:"Fetching data from API (Fail)"}});i.with(o.setSpan(i.active(),e),ju(Du().mark((function n(){var r,o;return Du().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/fail");case 3:if((r=n.sent).ok){n.next=6;break}throw new Error("Network response was not ok");case 6:return n.next=8,r.json();case 8:o=n.sent,document.getElementById("data-output").textContent=JSON.stringify(o),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),t.api.pushError(n.t0),document.getElementById("data-output").textContent=n.t0.message;case 16:return n.prev=16,e.end(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[0,12,16,19]])}))))}))}(Bu),function(t){var e,n,r="0";null===(e=document.getElementById("add-to-cart-btn"))||void 0===e||e.addEventListener("click",(function(){var e=(Math.floor(10*Math.random())+1).toString(),n=(Math.floor(500*Math.random())+1).toString();r=e;var o=new Date,i="".concat(o.getFullYear(),"-").concat(o.getMonth()+1,"-").concat(o.getDate());t.api.pushEvent("user click add to cart",{cartLength:e,cartValue:n,timeStamp:i}),document.getElementById("event-output").innerText="Event sent: Add to Cart with ".concat(e," items, total value ").concat(n)})),null===(n=document.getElementById("checkout-btn"))||void 0===n||n.addEventListener("click",(function(){t.api.pushEvent("user clicked checkout",{cartLength:r},"checkout"),document.getElementById("event-output").innerText="Event sent: Checkout with ".concat(r," items")}))}(Bu)}))})()})();
//# sourceMappingURL=bundle.js.map